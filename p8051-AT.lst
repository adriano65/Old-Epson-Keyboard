p8051-AT                                                                                                                PAGE 1
                         1     ; code for EPSON P8051 microcontroller @ 6MHz
                         2     ; DO NOT generate binary from IDE, it is broken.
                         3     ; Instead generate bin from hex from utilities menu !
                         4     ;
                         5     ; The PS/2 protocol uses an 11-bit frame (1 start, 8 data, 1 parity, 1 stop) to send bytes
                         6     ; Host pulls Clock low > 100 uS. (yellow wire, 1,840 seconds here)
                         7     ; Host pulls Data low, then releases Clock.
                         8     ; Device generates Clock signals.
                         9     ; Host sends 8-bit command, 1 parity bit, 1 stop bit.
                        10     ; Device sends ACK (FAh) to confirm
                        11     ;
                        12     ;     Timing Constraints:
                        13     ;     Clock Frequency: 10 kHz to 16.7 kHz.
                        14     ;     Clock Period: 60 uS to 100 uS.
                        15     ;     Clock Inactive/Active Time: 30 uS to 50 uS.
                        16     ;     Data Transition: Data must be stable 5 uS before and after the falling edge.
                        17     ;     Response Time: Devices must respond to host commands within 20 ms
                        18     ;
                        19     ;     Port P1, bit 6 (P1.6)           ->   Data output via LS125
                        20     ;     Port P1, bit 7 (P1.7)           ->   Clock via LS125
                        21     ;     Port P3, bits 5 (P3.5)          ->   Clock input from PC via LS125
                        22     ;     INT0 external interrupt (P3.2)  ->   Data input from PC via LS125
                        23     ; Note: P1.0, P1.1, P1.2 also used for LEDs (active high, inverted by NAND gates)
                        24     ;     Port P1, bit 4 (P1.4) ->   ADF (Address Function) input from EPSON keyboard encoder IC - NOT US
                        25     ;
                        26     ; AKD (Acknowledge Key Data):
                        27     ; This signal is used by the keyboard's internal controller to signal to the host computer that a "S
                        28     ; (the data representing a key press) is ready to be transmitted or has been successfully placed on t
                        29     ;
                        30     ; Timing Constants (6 MHz) Oscillator Frequency
                        31     ; In the 8051, 1 machine cycle = 12 oscillator periods.
                        32     ; Machine Cycle Time: 12/6,000,000=2 uS per cycle.
                        33     ;
                        34     ; cmp -l originalASM/P8051-ori.bin p8051-AT.bin | gawk '{printf "%08X %02X %02X\n", $1-1, strtonum
                        35
  0001                  36     disable_ROMchecksum EQU 1
  0001                  37     initial_led_blink EQU 1
  0001                  38     use_buzzer EQU 1
                        39     ;---------------------------------------------
  0008                  40     BIT_DATA_READY  EQU  8h
  0032                  41     byteTosend      equ     32h
  0054                  42     VAR_BUFFER_54  EQU  54h
  0055                  43     VAR_BUFFER_55  EQU  55h
  00AA                  44     BAT_CHK_PASSED_2PC  EQU  0AAh
  00FC                  45     BAT_CHK_FAILED_2PC  EQU  0FCh
  00FA                  46     ACK_GENERIC_2PC  EQU  0FAh
                        47     ;STACK_POINTER_POS  EQU  0Fh    ; original
  007F                  48     STACK_POINTER_POS  EQU  7Fh   ; NO
                        49
                        50     WAIT30uSLOOP MACRO
                        51         MOV R0, #7h
                        52         DJNZ R0, $
                        53     ENDM
                        54
                        55     WAIT62uSLOOP MACRO
                        56         MOV R0, #0Fh
                        57         DJNZ R0, $
                        58     ENDM
                        59
                        60     RESETWD MACRO
                        61         mov  0A6h, #01Eh
                        62         mov  0A6h, #0E1h
                        63     ENDM
                        64
                        65     SETDATALINEHIGH MACRO
                        66         setb        96h
                        67     ENDM
                        68
                        69     SETDATALINELOW MACRO
                        70         clr 96h
                        71     ENDM
                        72
                        73     SETCLOCKHIGH MACRO
                        74         setb        97h
                        75     ENDM
                        76
                        77     SETCLOCKLOW MACRO
                        78         clr 97h
                        79     ENDM
                        80
                        81     LOAD_CMDID_IN_ACC MACRO
                        82         mov A, R2
                        83     ENDM
                        84
  0000                  85     base    equ     0x0000          ;location for EPSON
                        86
                        87             ORG     base
0000 02000E             88             ljmp    start
                        89             ORG     base+3          ; Interrupt INT0 (Data from PC)
0003 02089F             90             ljmp    int0lbl
                        91             ORG     base+11         ; Interrupt Timer 0
000B 02092B             92             ljmp    int_Timer0
                        93
                        94     start:
000E D2AF               95       setb  EA              ; enable INTs
0010 75817F             96             mov     SP, #STACK_POINTER_POS  ; Stack Pointer init
                        97       ; ---------------------------------------------
                        98     ifdef use_buzzer
0013 7590FF             99             mov     P1, #0FFh ; turn OFF LEDs - NAND will invert - P1.6 = Data - floating, P1.7 = Clock -
                       100     else
                       101             mov     P1, #0F7h ; turn ON LEDs - NAND will invert - P1.6 = Data - floating ls125 disabled,
                       102     endif
0016 758A00            103             mov     TL0, #0h    ;
0019 758CF1            104             mov     TH0, #0F1h  ;   7.68 ms Timer0 overflow interval
                       105     ifdef initial_led_blink
001C 120FC3            106       lcall startup_led_test ; Run the blink sequence
                       107     else
                       108       ; ---------------------------------------------
                       109             ;mov    R0, #0C8h         ;501.204 us delay
                       110             ;lcall  delayR0x2_5ms
                       111       ; ---------------------------------------------
                       112     endif
                       113
001F 120FC0            114             lcall   HW_init_return_R1equAA
0022 787F              115             mov     R0, #7Fh
                       116
                       117     label6:
0024 76FF              118       mov   @R0, #0FFh
0026 B6FF0B            119             cjne    @R0, #0FFh, label5
0029 7600              120             mov     @R0, #0h
002B B60006            121             cjne    @R0, #0h, label5
002E 18                122             dec     R0
002F B801F2            123             cjne    R0, #1h, label6
0032 8008              124             sjmp    main_loop
                       125
                       126     label5:
0034 787F              127             mov     R0, #7Fh
                       128     label8:
0036 7600              129       mov   @R0, #0h
0038 D8FC              130             djnz    R0, label8
003A 79FC              131             mov     R1, #BAT_CHK_FAILED_2PC
                       132
                       133     main_loop:
003C D221              134             setb    21h               ; Set Bit 21h (Bit 1 of RAM Byte 24h)
                       135     label362:
003E 892C              136             mov     2Ch, R1
0040 752602            137             mov     26h, #2h              ; Set System State/Mode to "2"
0043 120BF1            138             lcall   flags_and_vars_init
0046 752E43            139             mov     2Eh, #43h            ; Load default/init value into 2Eh
0049 752F43            140             mov     2Fh, #43h            ; Load default/init value into 2Fh
004C 5390F8            141             anl     P1, #0F8h             ; turn OFF LEDs
004F 202106            142             jb      21h, retry_data_reception   ; First time is always executed :  check for an incoming
0052 D28C              143             setb    TR0                 ; turn ON Timer0
0054 D2A9              144             setb    ET0                 ; enable Timer0 interrupts
0056 D2A8              145             setb    EX0                 ; enable external INT0
                       146     ;
                       147     retry_data_reception:
0058 300807            148             jnb     BIT_DATA_READY, no_data_received
005B C02C              149             push    2Ch
005D 1209AA            150             lcall   data_received
0060 D02C              151             pop     2Ch
                       152     ;
                       153     no_data_received:
0062 E52C              154             mov     A, 2Ch    ; E5 2C - Move 2C ram to accumulator
0064 120721            155             lcall   sendAdata
0067 70EF              156             jnz     retry_data_reception    ; If Accumulator is NOT zero, retry_data_reception
0069 C221              157             clr     21h                     ; Clear Bit 21h (Bit 1 of RAM Byte 24h)
006B 302003            158             jnb     20h, check_BAT_CompletionOK            ; If Bit 20h is 0, jump to check_BAT_Completio
006E 752601            159             mov     26h, #1h                ; If Bit 20h was 1, set RAM Byte 26h to 01h - System State/Mo
                       160     check_BAT_CompletionOK:
0071 E52C              161             mov     A, 2Ch
0073 64AA              162             xrl     A, #BAT_CHK_PASSED_2PC
0075 600B              163             jz      begin_normal_operation
                       164
                       165     waitRAM08h_tohigh:
0077 3008FD            166             jnb     BIT_DATA_READY, $           ; If the bit at RAM address 08h is 0, stay here
007A 2020FA            167             jb      20h, waitRAM08h_tohigh
007D 1209AA            168             lcall   data_received
0080 80F5              169             sjmp    waitRAM08h_tohigh
                       170
                       171     begin_normal_operation:
0082 7F34              172             mov     R7, #34h
0084 7E01              173             mov     R6, #1h
0086 C2D5              174             clr     F0
0088 31C5              175             acall   scanning_routine
008A 00                176             nop         ; critical timing nop
008B 00                177             nop         ; critical timing nop
                       178
                       179     label39:
008C 20B42A            180             jb      T0, label18
008F 300A07            181             jnb     0Ah, label19
0092 DB02              182             djnz    R3, label20
0094 2114              183             ajmp    label21
                       184
                       185     label20:
0096 300B46            186             jnb     0Bh, label22
                       187     label19:
0099 EF                188             mov     A, R7
009A F8                189             mov     R0, A
009B EE                190             mov     A, R6
009C 56                191             anl     A, @R0
009D 6040              192             jz      label22
009F D20E              193             setb    0Eh
00A1 5179              194             acall   label23
00A3 B52703            195             cjne    A, 27h, label24
00A6 120C77            196             lcall   label25
                       197     label24:
00A9 E532              198             mov     A, byteTosend
00AB 24F0              199             add     A, #0F0h
00AD 5004              200             jnc     RAMcmdIdx
00AF 513F              201             acall   label27
00B1 802C              202             sjmp    label22
                       203
                       204     RAMcmdIdx:
00B3 31FA              205             acall   label28
00B5 510E              206             acall   label29
00B7 8024              207             sjmp    label30
                       208     label18:
00B9 1B                209             dec     R3
00BA 5179              210             acall   label23
00BC F4                211             cpl     A
00BD 6020              212             jz      label22
00BF D2D5              213             setb    F0
00C1 050E              214             inc     0Eh
00C3 EF                215             mov     A, R7
00C4 F8                216             mov     R0, A
00C5 EE                217             mov     A, R6
00C6 56                218             anl     A, @R0
00C7 7016              219             jnz     label22
00C9 050F              220             inc     0Fh
00CB 212A              221             ajmp    label31
                       222     label57:
00CD E532              223             mov     A, byteTosend
00CF 24F0              224             add     A, #0F0h
00D1 5004              225             jnc     label32
00D3 5146              226             acall   label33
00D5 8008              227             sjmp    label22
                       228     label32:
00D7 5101              229             acall   label34
00D9 5107              230             acall   label35
00DB 518B              231             acall   label36
                       232     label30:
00DD 51E7              233             acall   label37
                       234     label22:
00DF EE                235             mov     A, R6
00E0 23                236             rl      A
00E1 FE                237             mov     R6, A
00E2 20E005            238             jb      0E0h, label38
00E5 05A0              239             inc     P2
00E7 00                240             nop
00E8 80A2              241             sjmp    label39
                       242
                       243     label38:
00EA E521              244             mov     A, 21h
00EC 5403              245             anl     A, #3h
00EE 600D              246             jz      label40
00F0 12097C            247             lcall   Wait_Sync_Pattern
00F3 301E07            248             jnb     1Eh, label40
00F6 C21E              249             clr     1Eh
00F8 532103            250             anl     21h, #3h
00FB 8085              251             sjmp    begin_normal_operation
                       252
                       253     label40:
00FD 51E7              254             acall   label37
00FF 300105            255             jnb     1h, label42
0102 0F                256             inc     R7
0103 31DA              257             acall   label43
0105 8085              258             sjmp    label39
                       259
                       260     label42:
0107 30D505            261             jnb     F0, label44
010A 202005            262             jb      20h, label45
                       263             ;setb   93h     ; set port P1.3 high - unconnected pin AKD
010D 8003              264             sjmp    label45
                       265     label44:
                       266             ;clr    93h       ; set port P1.3 low - unconnected pin AKD
010F 120C77            267             lcall   label25
                       268     label45:
0112 0182              269             ajmp    begin_normal_operation
                       270
                       271     label21:
0114 200F0A            272             jb      0Fh, label46
0117 300D0C            273             jnb     0Dh, label47
011A 200E04            274             jb      0Eh, label46
011D 5146              275             acall   label33
011F 51E7              276             acall   label37
                       277     label46:
0121 532103            278             anl     21h, #3h
0124 80B9              279             sjmp    label22
                       280
                       281     label47:
0126 D20D              282             setb    0Dh
0128 8060              283             sjmp    label48
                       284     label31:
012A 200A0B            285             jb      0Ah, label49
                       286     label53:
012D 21A3              287             ajmp    label50
                       288
                       289     label66:
012F 532103            290             anl     21h, #3h
0132 D20A              291             setb    0Ah
0134 D20F              292             setb    0Fh
0136 8049              293             sjmp    label51
                       294
                       295     label49:
0138 BB0058            296             cjne    R3, #0h, label52
013B 100DEF            297             jbc     0Dh, label53
013E 200B0E            298             jb      0Bh, label54
0141 C20F              299             clr     0Fh
0143 120C77            300             lcall   label25
0146 3195              301             acall   label55
0148 703B              302             jnz     label56
                       303     label61:
014A 532103            304             anl     21h, #3h
014D 01CD              305             ajmp    label57
                       306
                       307     label54:
014F 100C12            308             jbc     0Ch, label58
0152 200E0B            309             jb      0Eh, label59
0155 E50F              310             mov     A, 0Fh
0157 C3                311             clr     C
0158 950A              312             subb    A, 0Ah
015A 4004              313             jc      label59
015C 3195              314             acall   label55
015E 7025              315             jnz     label56
                       316     label59:
0160 D20C              317             setb    0Ch
0162 8026              318             sjmp    label48
                       319     label58:
0164 3195              320             acall   label55
0166 7009              321             jnz     label60
0168 200EDF            322             jb      0Eh, label61
016B 5146              323             acall   label33
016D 51E7              324             acall   label37
016F 80D9              325             sjmp    label61
                       326     label60:
0171 E50F              327             mov     A, 0Fh
0173 C3                328             clr     C
0174 950A              329             subb    A, 0Ah
0176 500D              330             jnc     label56
0178 200E0A            331             jb      0Eh, label56
017B 5146              332             acall   label33
017D 51E7              333             acall   label37
017F 8004              334             sjmp    label56
                       335     label51:
0181 C20B              336             clr     0Bh
0183 8007              337             sjmp    label62
                       338     label56:
0185 850F0A            339             mov     0Ah, 0Fh
0188 C20E              340             clr     0Eh
                       341     label48:
018A D20B              342             setb    0Bh
                       343     label62:
018C 7B78              344             mov     R3, #78h
018E E4                345             clr     A
018F F50E              346             mov     0Eh, A
0191 F50F              347             mov     0Fh, A
                       348     label52:
0193 01DF              349             ajmp    label22
                       350
                       351     label55:
0195 E50E              352             mov     A, 0Eh
0197 24FC              353             add     A, #0FCh
0199 5006              354             jnc     label55_ret
019B E50F              355             mov     A, 0Fh
019D 14                356             dec     A
019E 6001              357             jz      label55_ret
01A0 22                358             ret
                       359     label55_ret:
01A1 E4                360             clr     A
01A2 22                361             ret
                       362
                       363     label50:
01A3 75F006            364             mov     B, #6h
                       365     label65:
01A6 E521              366             mov     A, 21h
01A8 5403              367             anl     A, #3h
01AA 600D              368             jz      label64
01AC 12097C            369             lcall   Wait_Sync_Pattern
01AF 301E07            370             jnb     1Eh, label64
01B2 C21E              371             clr     1Eh
01B4 532103            372             anl     21h, #3h
01B7 0182              373             ajmp    begin_normal_operation
                       374
                       375     label64:
01B9 1202E7            376             lcall   label37
01BC 7854              377             mov     R0, #54h      ; load R0 with 54h (84 decimal)
01BE D8FE              378             djnz    R0, $
01C0 D5F0E3            379             djnz    B, label65
01C3 212F              380             ajmp    label66
                       381
                       382     scanning_routine:
01C5 D2B0              383             setb    RXD
01C7 D295              384             setb    95h
01C9 752003            385             mov     20h, #3h
01CC 74F8              386             mov     A, #0F8h
01CE F5A0              387             mov     P2, A
01D0 FC                388             mov     R4, A
01D1 7580FF            389             mov     P0, #0FFh
01D4 74FE              390             mov     A, #0FEh
01D6 F580              391             mov     P0, A
01D8 FD                392             mov     R5, A
01D9 22                393             ret
                       394
                       395     label43:
01DA 75A0F8            396             mov     P2, #0F8h
01DD 7580FF            397             mov     P0, #0FFh
01E0 ED                398             mov     A, R5
01E1 D3                399             setb    C
01E2 33                400             rlc     A
01E3 F580              401             mov     P0, A
01E5 FD                402             mov     R5, A
01E6 EC                403             mov     A, R4
01E7 92E2              404             mov     0E2h, C
01E9 C3                405             clr     C
01EA 33                406             rlc     A
01EB F5A0              407             mov     P2, A
01ED FC                408             mov     R4, A
01EE E520              409             mov     A, 20h
01F0 33                410             rlc     A
01F1 F520              411             mov     20h, A
01F3 13                412             rrc     A
01F4 9295              413             mov     95h, C
01F6 13                414             rrc     A
01F7 92B0              415             mov     RXD, C
01F9 22                416             ret
                       417
                       418     label28:
01FA EF                419             mov     A, R7
01FB F8                420             mov     R0, A
01FC EE                421             mov     A, R6
01FD F4                422             cpl     A
01FE 56                423             anl     A, @R0
01FF F6                424             mov     @R0, A
0200 22                425             ret
                       426
                       427     label34:
0201 EF                428             mov     A, R7
0202 F8                429             mov     R0, A
0203 EE                430             mov     A, R6
0204 46                431             orl     A, @R0
0205 F6                432             mov     @R0, A
0206 22                433             ret
                       434
                       435     label35:
0207 5179              436             acall   label23
0209 7980              437             mov     R1, #80h
020B 5158              438             acall   circular_buffer_mngr
020D 22                439             ret
                       440
                       441     label29:
020E 5117              442             acall   label68
0210 6004              443             jz      label69
0212 7900              444             mov     R1, #0h
0214 5158              445             acall   circular_buffer_mngr
                       446     label69:
0216 22                447             ret
                       448
                       449     label68:
0217 5179              450             acall   label23
0219 E526              451             mov     A, 26h
021B B40319            452             cjne    A, #3h, label70
021E 51C8              453             acall   label71
0220 6013              454             jz      label72
0222 14                455             dec     A
0223 6017              456             jz      label73
0225 14                457             dec     A
0226 600D              458             jz      label72
0228 14                459             dec     A
0229 6011              460             jz      label73
                       461 +1          LOAD_CMDID_IN_ACC
022B EA                462 +1                  mov     a , r2
022C 24F0              463             add     A, #0F0h
022E 5005              464             jnc     label72
                       465 +1          LOAD_CMDID_IN_ACC
0230 EA                466 +1                  mov     a , r2
0231 24EB              467             add     A, #0EBh
0233 5007              468             jnc     label73
                       469     label72:
0235 E4                470             clr     A
0236 22                471             ret
                       472
                       473     label70:
0237 BA4F02            474             cjne    R2, #4Fh, label73
023A E4                475             clr     A
023B 22                476             ret
                       477
                       478     label73:
023C 74FF              479             mov     A, #0FFh
023E 22                480             ret
                       481
                       482     label27:
023F 5117              483             acall   label68
0241 7003              484             jnz     label33
0243 31FA              485             acall   label28
0245 22                486             ret
                       487
                       488     label33:
0246 E532              489             mov     A, byteTosend
0248 6411              490             xrl     A, #11h
024A 600B              491             jz      label33_ret
024C 201F08            492             jb      1Fh, label33_ret
024F 7AFF              493             mov     R2, #0FFh
0251 7900              494             mov     R1, #0h
0253 5158              495             acall   circular_buffer_mngr
0255 D21F              496             setb    1Fh
                       497     label33_ret:
0257 22                498             ret
                       499
                       500     circular_buffer_mngr:
0258 A82E              501             mov     R0, 2Eh       ; loads current Write Pointer from RAM 2Eh
025A E9                502             mov     A, R1
025B 5480              503             anl     A, #80h
025D 4A                504             orl     A, R2
025E F6                505             mov     @R0, A
025F E9                506             mov     A, R1
0260 33                507             rlc     A
0261 33                508             rlc     A
0262 E555              509             mov     A, VAR_BUFFER_55
0264 33                510             rlc     A
0265 F555              511             mov     VAR_BUFFER_55, A
0267 E554              512             mov     A, VAR_BUFFER_54
0269 33                513             rlc     A
026A F554              514             mov     VAR_BUFFER_54, A
026C 921C              515             mov     1Ch, C
026E 08                516             inc     R0          ; Increment write pointer
026F B85402            517             cjne    R0, #54h, label75
0272 7843              518             mov     R0, #43h
                       519     label75:
0274 882E              520             mov     2Eh, R0
0276 0532              521             inc     byteTosend
0278 22                522             ret
                       523
                       524     label23:
0279 E5A0              525             mov     A, P2           ; load P2 port (keyboard matrix X lines) (A0) into accumulator
027B 5407              526             anl     A, #7h          ; read lower bits of P2
027D F8                527             mov     R0, A
027E EF                528             mov     A, R7
027F C3                529             clr     C
0280 9434              530             subb    A, #34h
0282 C4                531             swap    A               ; swap nibbles within Accumulator
0283 03                532             rr      A
0284 28                533             add     A, R0
0285 900F00            534             mov     DPTR, #data0EAE   ; load Data Pointer Register with data0EAE address
0288 93                535             movc    A, @A+DPTR      ; load accumulator with DPTR + A pointed data
0289 FA                536             mov     R2, A
028A 22                537             ret
                       538
                       539     ;-----------------------------
                       540     label36:
028B E526              541             mov     A, 26h
028D B4031A            542             cjne    A, #3h, label76
0290 51C8              543             acall   label71
0292 6033              544             jz      label78_ret
0294 14                545             dec     A
0295 6030              546             jz      label78_ret
0297 14                547             dec     A
0298 6014              548             jz      label78
029A 14                549             dec     A
029B 6011              550             jz      label78
                       551 +1          LOAD_CMDID_IN_ACC
029D EA                552 +1                  mov     a , r2
029E 900DF1            553             mov     DPTR, #data0D9F
02A1 93                554             movc    A, @A+DPTR      ; load accumulator with DPTR + A pointed data
02A2 B48401            555             cjne    A, #84h, label79
02A5 22                556             ret
                       557
                       558     label79:
02A6 20E705            559             jb      0E7h, label78
02A9 22                560             ret
                       561
                       562     label76:
02AA BA4F01            563             cjne    R2, #4Fh, label78
02AD 22                564             ret
                       565
                       566     ;-----------------------------
                       567     label78:
02AE 8A27              568             mov     27h, R2
02B0 C2A8              569             clr     EX0
02B2 C2A9              570             clr     ET0
02B4 C28C              571             clr     TR0
02B6 85280C            572             mov     0Ch, 28h
02B9 85290D            573             mov     0Dh, 29h
02BC C209              574             clr     9h
02BE D28C              575             setb    TR0
02C0 D2A9              576             setb    ET0
02C2 202002            577             jb      20h, label78_ret
02C5 D2A8              578             setb    EX0
                       579     label78_ret:
02C7 22                580             ret
                       581
                       582     ; ----------------------------------------------------
                       583     label71:
02C8 120BDC            584             lcall   label80
02CB E8                585             mov     A, R0
02CC 57                586             anl     A, @R1
02CD 6017              587             jz      label81
02CF 68                588             xrl     A, R0
02D0 600C              589             jz      label82
02D2 E8                590             mov     A, R0
02D3 03                591             rr      A
02D4 58                592             anl     A, R0
02D5 57                593             anl     A, @R1
02D6 6003              594             jz      setAcc_val_to_2
02D8 7401              595             mov     A, #1h
02DA 22                596             ret
                       597
                       598     setAcc_val_to_2:
02DB 7402              599             mov     A, #2h
02DD 22                600             ret
                       601
                       602     label82:
02DE 302503            603             jnb     25h, label84
02E1 7403              604             mov     A, #3h
02E3 22                605             ret
                       606
                       607     label84:
02E4 7404              608             mov     A, #4h
                       609     label81:
02E6 22                610             ret
                       611
                       612     label37:
02E7 20084B            613             jb      BIT_DATA_READY, label37_ret
02EA E533              614             mov     A, 33h
02EC 602E              615             jz      label86
                       616     label37_jmp1:
02EE A830              617             mov     R0, 30h
02F0 E6                618             mov     A, @R0
02F1 120718            619             lcall   label87
02F4 787D              620             mov     R0, #7Dh
02F6 D8FE              621             djnz    R0, $
02F8 703B              622             jnz     label37_ret
                       623     label37_jmp2:
02FA 0530              624             inc     30h
02FC 1533              625             dec     33h
02FE E533              626             mov     A, 33h
0300 6006              627             jz      label37_jmp3
0302 D192              628             acall   label89
0304 60E8              629             jz      label37_jmp1
0306 80F2              630             sjmp    label37_jmp2
                       631     label37_jmp3:
0308 301B05            632             jnb     1Bh, label92
030B 753074            633             mov     30h, #74h
030E 6175              634             ajmp    label93
                       635
                       636     label92:
0310 1532              637             dec     byteTosend
0312 052F              638             inc     2Fh
0314 E52F              639             mov     A, 2Fh
0316 B45403            640             cjne    A, #54h, label86
0319 752F43            641             mov     2Fh, #43h
                       642     label86:
031C E532              643             mov     A, byteTosend
031E 6015              644             jz      label37_ret
0320 753074            645             mov     30h, #74h
0323 E526              646             mov     A, 26h
0325 B4030E            647             cjne    A, #3h, label94
0328 A12C              648             ajmp    label95
                       649     label113:
032A D21B              650             setb    1Bh
032C 8002              651             sjmp    label96
                       652     label100:
032E C21B              653             clr     1Bh
                       654     label96:
0330 753074            655             mov     30h, #74h
0333 80B2              656             sjmp    label37
                       657     label37_ret:
0335 22                658             ret
                       659
                       660     label94:
0336 A82F              661             mov     R0, 2Fh
0338 E6                662             mov     A, @R0
0339 FA                663             mov     R2, A
033A B4FF08            664             cjne    A, #0FFh, label97
033D B1FD              665             acall   label98
033F 7424              666             mov     A, #24h
0341 D11A              667             acall   label99
                       668     label104:
0343 80E9              669             sjmp    label100
                       670     label97:
0345 D1EE              671             acall   label101
0347 601C              672             jz      label102
0349 B152              673             acall   label103
034B 301DF5            674             jnb     1Dh, label104
034E 2015F2            675             jb      15h, label104
0351 2014EF            676             jb      14h, label104
0354 C21D              677             clr     1Dh
0356 BA1402            678             cjne    R2, #14h, label105
0359 8161              679             ajmp    label106
                       680     label105:
035B BA1702            681             cjne    R2, #17h, label107
035E 8188              682             ajmp    label108
                       683     label107:
0360 BA4EE0            684             cjne    R2, #4Eh, label104
0363 819A              685             ajmp    label109
                       686     label102:
                       687 +1          LOAD_CMDID_IN_ACC
0365 EA                688 +1                  mov     a , r2
0366 20E702            689             jb      0E7h, label110
0369 819E              690             ajmp    label111
                       691     label110:
036B C21D              692             clr     1Dh
036D D128              693             acall   label112
036F E533              694             mov     A, 33h
0371 6002              695             jz      label93
0373 80B5              696             sjmp    label113
                       697
                       698     label93:
0375 A82F              699             mov     R0, 2Fh
0377 E6                700             mov     A, @R0
0378 547F              701             anl     A, #7Fh
037A FA                702             mov     R2, A
037B BA1402            703             cjne    R2, #14h, label114
037E 8153              704             ajmp    label115
                       705     label114:
0380 BA1702            706             cjne    R2, #17h, label116
0383 8170              707             ajmp    label117
                       708     label116:
0385 BA4E02            709             cjne    R2, #4Eh, label118
0388 818C              710             ajmp    label119
                       711
                       712
                       713     label118:
                       714 +1          LOAD_CMDID_IN_ACC
038A EA                715 +1                  mov     a , r2
038B 24EC              716             add     A, #0ECh
038D 402F              717             jc      label120
                       718 +1          LOAD_CMDID_IN_ACC
038F EA                719 +1                  mov     a , r2
0390 24F6              720             add     A, #0F6h
0392 502E              721             jnc     label121
                       722
                       723             ; --- Begin 3-Byte Math Conversion ---
                       724 +1          LOAD_CMDID_IN_ACC     ; Get the original Command ID
0394 EA                725 +1                  mov     a , r2
0395 C3                726             clr     C
0396 940A              727             subb A, #0Ah          ; Subtract the base offset (14h / 2 = 0Ah)
                       728
0398 75F003            729             mov  B, #3            ; Multiplier for 3-byte LJMP entries
039B A4                730             mul  AB               ; A = Index * 3
                       731
039C 9003A0            732             mov     DPTR, #label03A3  ; Point to the new LJMP table
039F 73                733             jmp     @A+DPTR           ; Jump to the calculated offset
                       734             ; --- End 3-Byte Math Conversion ---
                       735
                       736     ; --- Updated Table (All entries now 3 bytes) ---
                       737     label03A3:
03A0 0203F1            738             ljmp    label122    ; Was ajmp
03A3 020310            739             ljmp    label92     ; Was ajmp
03A6 02042B            740             ljmp    label123    ; Was ajmp
03A9 02041F            741             ljmp    label124    ; Was ajmp
03AC 0203BE            742             ljmp    label120    ; Was ajmp
03AF 0203E1            743             ljmp    label125    ; Was ajmp
03B2 020417            744             ljmp    label126    ; Was ajmp
03B5 020425            745             ljmp    label127    ; Was ajmp
03B8 020431            746             ljmp    label128    ; Was ajmp
03BB 020448            747             ljmp    label129    ; Was ajmp
                       748
                       749
                       750     label120:
03BE B152              751             acall   label103
03C0 612E              752             ajmp    label100
                       753
                       754     label121:
03C2 30230A            755             jnb     23h, label130
03C5 201311            756             jb      13h, label131
03C8 20120E            757             jb      12h, label131
03CB D14A              758             acall   label132
03CD 800A              759             sjmp    label131
                       760     label130:
03CF 301302            761             jnb     13h, label133
03D2 D15D              762             acall   label134
                       763     label133:
03D4 301202            764             jnb     12h, label131
03D7 D181              765             acall   label135
                       766     label131:
03D9 0531              767             inc     31h
03DB D218              768             setb    18h
03DD B152              769             acall   label103
03DF 612E              770             ajmp    label100
                       771     label125:
03E1 301302            772             jnb     13h, label136
03E4 D15D              773             acall   label134
                       774     label136:
03E6 301202            775             jnb     12h, label137
03E9 D181              776             acall   label135
                       777
                       778     label137:
03EB 0531              779             inc     31h
03ED B152              780             acall   label103
03EF 612E              781             ajmp    label100
                       782     ;
                       783     label122:
03F1 20171B            784             jb      17h, label138
03F4 201618            785             jb      16h, label138
03F7 20150B            786             jb      15h, label139
03FA 201408            787             jb      14h, label139
03FD 201305            788             jb      13h, label139
0400 201202            789             jb      12h, label139
0403 D14A              790             acall   label132
                       791
                       792     label139:
0405 0531              793             inc     31h
0407 D219              794             setb    19h
0409 C21A              795             clr     1Ah
040B B152              796             acall   label103
040D 612E              797             ajmp    label100
                       798     label138:
040F 0531              799             inc     31h
0411 D21A              800             setb    1Ah
0413 B152              801             acall   label103
0415 612E              802             ajmp    label100
                       803     label126:
0417 B152              804             acall   label103
0419 7405              805             mov     A, #5h
                       806
                       807     label140:
041B D11A              808             acall   label99
041D 612E              809             ajmp    label100
                       810     label124:
041F B152              811             acall   label103
0421 7404              812             mov     A, #4h
0423 80F6              813             sjmp    label140
                       814     label127:
0425 B152              815             acall   label103
0427 7407              816             mov     A, #7h
0429 80F0              817             sjmp    label140
                       818     label123:
042B B152              819             acall   label103
042D 7406              820             mov     A, #6h
042F 80EA              821             sjmp    label140
                       822     label128:
0431 B152              823             acall   label103
0433 7401              824             mov     A, #1h
0435 D11A              825             acall   label99
0437 7403              826             mov     A, #3h
                       827     label142:
0439 30200A            828             jnb     20h, label141
043C 209407            829             jb      94h, label141
043F 20B304            830             jb      INT1, label141
0442 D11A              831             acall   label99
0444 7422              832             mov     A, #22h
                       833     label141:
0446 80D3              834             sjmp    label140
                       835     label129:
0448 B152              836             acall   label103
044A 7400              837             mov     A, #0h
044C 12061A            838             lcall   label99
044F 7402              839             mov     A, #2h
0451 80E6              840             sjmp    label142
                       841     label115:
0453 B152              842             acall   label103
0455 302016            843             jnb     20h, label143
0458 209413            844             jb      94h, label143
045B 20150E            845             jb      15h, label144
045E 20140B            846             jb      14h, label144
                       847     label106:
0461 20B304            848             jb      INT1, label145
0464 741A              849             mov     A, #1Ah
0466 80B3              850             sjmp    label140
                       851     label145:
0468 7412              852             mov     A, #12h
046A 80AF              853             sjmp    label140
                       854     label144:
046C D21D              855             setb    1Dh
                       856     label143:
046E 612E              857             ajmp    label100
                       858     label117:
0470 B152              859             acall   label103
0472 201507            860             jb      15h, label146
0475 201404            861             jb      14h, label146
0478 7413              862             mov     A, #13h
047A D11A              863             acall   label99
                       864     label146:
047C 3020EF            865             jnb     20h, label143
047F 2094EC            866             jb      94h, label143
0482 2015E7            867             jb      15h, label144
0485 2014E4            868             jb      14h, label144
                       869     label108:
0488 7411              870             mov     A, #11h
048A 808F              871             sjmp    label140
                       872     label119:
048C B152              873             acall   label103
048E 3020DD            874             jnb     20h, label143
0491 2094DA            875             jb      94h, label143
0494 2015D5            876             jb      15h, label144
0497 2014D2            877             jb      14h, label144
                       878     label109:
049A 7410              879             mov     A, #10h
049C 811B              880             ajmp    label140
                       881
                       882
                       883     label111:
                       884 +1          LOAD_CMDID_IN_ACC
049E EA                885 +1                  mov     a , r2
049F 24EC              886             add     A, #0ECh
04A1 402F              887             jc      label147
                       888 +1          LOAD_CMDID_IN_ACC
04A3 EA                889 +1                  mov     a , r2
04A4 24F6              890             add     A, #0F6h
04A6 502E              891             jnc     label148
                       892
                       893             ; --- Begin 3-Byte Math Conversion for label111 ---
                       894 +1          LOAD_CMDID_IN_ACC     ; Reload Command ID (e.g., 0Ah, 0Bh...)
04A8 EA                895 +1                  mov     a , r2
04A9 C3                896             clr     C
04AA 940A              897             subb A, #0Ah          ; Normalize index: original sub 14h (math 2x) becomes sub 0Ah
                       898
04AC 75F003            899             mov  B, #3            ; Multiplier for 3-byte LJMP table entries
04AF A4                900             mul  AB               ; A = Index * 3 (Result low byte in A)
                       901
04B0 9004B4            902             mov     DPTR, #label04AA  ; Load the new 16-bit table address
04B3 73                903             jmp     @A+DPTR           ; Jump to calculated offset
                       904             ; --- End 3-Byte Math Conversion ---
                       905
                       906     ; --- Updated Table (All AJMP upgraded to LJMP) ---
                       907     label04AA:
04B4 0204E5            908             ljmp    label149    ; Entry 0
04B7 020310            909             ljmp    label92     ; Entry 1
04BA 0204FB            910             ljmp    label150    ; Entry 2
04BD 0204EF            911             ljmp    label151    ; Entry 3
04C0 0204D2            912             ljmp    label147    ; Entry 4
04C3 0204E3            913             ljmp    label152    ; Entry 5
04C6 0204E7            914             ljmp    label153    ; Entry 6
04C9 0204F5            915             ljmp    label154    ; Entry 7
04CC 020501            916             ljmp    label155    ; Entry 8
04CF 02051D            917             ljmp    label156    ; Entry 9
                       918
                       919
                       920     label147:
04D2 B1C0              921             acall   label157
04D4 612E              922             ajmp    label100
                       923     label148:
04D6 B1C0              924             acall   label157
04D8 E531              925             mov     A, 31h
04DA 6003              926             jz      label158
04DC D53102            927             djnz    31h, label159
                       928     label158:
04DF D128              929             acall   label112
                       930     label159:
04E1 612E              931             ajmp    label100
                       932     label152:
04E3 80F1              933             sjmp    label148
                       934     label149:
04E5 80EF              935             sjmp    label148
                       936     label153:
04E7 B1C0              937             acall   label157
04E9 740D              938             mov     A, #0Dh
                       939     label160:
04EB D11A              940             acall   label99
04ED 612E              941             ajmp    label100
                       942     label151:
04EF B1C0              943             acall   label157
04F1 740C              944             mov     A, #0Ch
04F3 80F6              945             sjmp    label160
                       946     label154:
04F5 B1C0              947             acall   label157
04F7 740F              948             mov     A, #0Fh
04F9 80F0              949             sjmp    label160
                       950     label150:
04FB B1C0              951             acall   label157
04FD 740E              952             mov     A, #0Eh
04FF 80EA              953             sjmp    label160
                       954     label155:
0501 B1C0              955             acall   label157
0503 7409              956             mov     A, #9h
0505 D11A              957             acall   label99
0507 740B              958             mov     A, #0Bh
0509 D11A              959             acall   label99
050B 20120D            960             jb      12h, label161
                       961     label164:
050E 301805            962             jnb     18h, label162
0511 302307            963             jnb     23h, label161
0514 8003              964             sjmp    label163
                       965     label162:
0516 301902            966             jnb     19h, label161
                       967     label163:
0519 D14A              968             acall   label132
                       969     label161:
051B 612E              970             ajmp    label100
                       971
                       972     label156:
051D B1C0              973             acall   label157
051F 7408              974             mov     A, #8h
0521 D11A              975             acall   label99
0523 740A              976             mov     A, #0Ah
0525 D11A              977             acall   label99
0527 3013E4            978             jnb     13h, label164
052A 612E              979             ajmp    label100
                       980
                       981     label95:
052C A82F              982             mov     R0, 2Fh
052E E6                983             mov     A, @R0
052F FA                984             mov     R2, A
0530 B4FF08            985             cjne    A, #0FFh, label165
0533 B1FD              986             acall   label98
0535 7424              987             mov     A, #24h
0537 D11A              988             acall   label99
0539 612E              989             ajmp    label100
                       990
                       991     label165:
053B D1EE              992             acall   label101
053D 6004              993             jz      label166
053F B152              994             acall   label103
0541 612E              995             ajmp    label100
                       996
                       997     label166:
                       998 +1          LOAD_CMDID_IN_ACC
0543 EA                999 +1                  mov     a , r2
0544 20E704           1000             jb      0E7h, label167
0547 B1C0             1001             acall   label157
0549 612E             1002             ajmp    label100
                      1003
                      1004     label167:
054B 547F             1005             anl     A, #7Fh
054D FA               1006             mov     R2, A
054E B152             1007             acall   label103
0550 612E             1008             ajmp    label100
                      1009
                      1010     label103:
0552 A926             1011             mov     R1, 26h
0554 B90302           1012             cjne    R1, #3h, label168
0557 8058             1013             sjmp    label169
                      1014
                      1015     label168:
0559 BA4F2F           1016             cjne    R2, #4Fh, label170
055C 201514           1017             jb      15h, label171
055F 201411           1018             jb      14h, label171
0562 B90207           1019             cjne    R1, #2h, label172
0565 900E6B           1020             mov     DPTR, #data0E19
0568 7908             1021             mov     R1, #8h
056A 8016             1022             sjmp    label173
                      1023     label172:
056C 900E61           1024             mov     DPTR, #data0E0F
056F 7906             1025             mov     R1, #6h
0571 800F             1026             sjmp    label173
                      1027
                      1028     label171:
0573 B90207           1029             cjne    R1, #2h, label174
0576 900E73           1030             mov     DPTR, #data0E21
0579 7905             1031             mov     R1, #5h
057B 8005             1032             sjmp    label173
                      1033     label174:
057D 900E67           1034             mov     DPTR, #data0E15
0580 7904             1035             mov     R1, #4h
                      1036
                      1037     label173:
0582 E4               1038             clr     A
0583 93               1039             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
0584 120607           1040             lcall   label175          ; CHANGED FROM ACALL TO LCALL
0587 A3               1041             inc     DPTR
0588 D9F8             1042             djnz    R1, label173
058A 22               1043             ret
                      1044
                      1045
                      1046     label170:
                      1047 +1          LOAD_CMDID_IN_ACC
058B EA               1048 +1                  mov     a , r2
058C 24F0             1049             add     A, #0F0h
058E 4013             1050             jc      label176
0590 BA0A0E           1051             cjne    R2, #0Ah, label177
0593 301A0B           1052             jnb     1Ah, label177
0596 B90204           1053             cjne    R1, #2h, label178
0599 7484             1054             mov     A, #84h
059B 8011             1055             sjmp    label179
                      1056     label178:
059D 7454             1057             mov     A, #54h
059F 800D             1058             sjmp    label179
                      1059     label177:
05A1 D120             1060             acall   label180
                      1061
                      1062     label176:
05A3 900D11           1063             mov     DPTR, #data0CBF
05A6 B90203           1064             cjne    R1, #2h, label181
05A9 900D81           1065             mov     DPTR, #data0D2F
                      1066
                      1067     label181:
                      1068 +1          LOAD_CMDID_IN_ACC
05AC EA               1069 +1                  mov     a , r2
05AD 93               1070             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
                      1071     label179:
05AE D107             1072             acall   label175
05B0 22               1073             ret
                      1074
                      1075     label169:
                      1076 +1          LOAD_CMDID_IN_ACC
05B1 EA               1077 +1                  mov     a , r2
05B2 900DF1           1078             mov     DPTR, #data0D9F
05B5 93               1079             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
05B6 B48402           1080             cjne    A, #84h, label182
05B9 8002             1081             sjmp    label183
                      1082     label182:
05BB 547F             1083             anl     A, #7Fh
                      1084     label183:
05BD D107             1085             acall   label175
05BF 22               1086             ret
                      1087
                      1088     label157:
05C0 A926             1089             mov     R1, 26h
05C2 B90302           1090             cjne    R1, #3h, label184
05C5 8032             1091             sjmp    label185
                      1092     label184:
                      1093 +1          LOAD_CMDID_IN_ACC
05C7 EA               1094 +1                  mov     a , r2
05C8 24F0             1095             add     A, #0F0h
05CA 4015             1096             jc      label186
05CC BA0A10           1097             cjne    R2, #0Ah, label187
05CF 301A0D           1098             jnb     1Ah, label187
05D2 B90206           1099             cjne    R1, #2h, label188
05D5 D124             1100             acall   label189
05D7 7484             1101             mov     A, #84h
05D9 801B             1102             sjmp    label190
                      1103     label188:
05DB 74D4             1104             mov     A, #0D4h
05DD 8017             1105             sjmp    label190
                      1106     label187:
05DF D120             1107             acall   label180
                      1108     label186:
05E1 B90202           1109             cjne    R1, #2h, label191
05E4 D124             1110             acall   label189
                      1111
                      1112     label191:
05E6 900D11           1113             mov     DPTR, #data0CBF
05E9 B90203           1114             cjne    R1, #2h, label192
05EC 900D81           1115             mov     DPTR, #data0D2F
                      1116
                      1117     label192:
                      1118 +1          LOAD_CMDID_IN_ACC
05EF EA               1119 +1                  mov     a , r2
05F0 93               1120             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
05F1 B90102           1121             cjne    R1, #1h, label190
05F4 4480             1122             orl     A, #80h
                      1123     label190:
05F6 D107             1124             acall   label175
05F8 22               1125             ret
                      1126     label185:
05F9 D124             1127             acall   label189
05FB 80B4             1128             sjmp    label169
                      1129     label98:
05FD E4               1130             clr     A
05FE A826             1131             mov     R0, 26h
0600 B80101           1132             cjne    R0, #1h, label193
0603 F4               1133             cpl     A
                      1134     label193:
0604 D107             1135             acall   label175
0606 22               1136             ret
                      1137     label175:
0607 A830             1138             mov     R0, 30h
0609 F6               1139             mov     @R0, A
060A C3               1140             clr     C
                      1141     label194:
060B E573             1142             mov     A, 73h
060D 33               1143             rlc     A
060E F573             1144             mov     73h, A
0610 E572             1145             mov     A, 72h
0612 33               1146             rlc     A
0613 F572             1147             mov     72h, A
0615 0530             1148             inc     30h
0617 0533             1149             inc     33h
0619 22               1150             ret
                      1151
                      1152     label99:
061A A830             1153             mov     R0, 30h
061C F6               1154             mov     @R0, A
061D D3               1155             setb    C
061E 80EB             1156             sjmp    label194
                      1157     label180:
0620 74E0             1158             mov     A, #0E0h
0622 80E3             1159             sjmp    label175
                      1160     label189:
0624 74F0             1161             mov     A, #0F0h
0626 80DF             1162             sjmp    label175
                      1163     label112:
0628 C218             1164             clr     18h
062A C219             1165             clr     19h
062C 301007           1166             jnb     10h, label195
062F 201209           1167             jb      12h, label196
0632 D16E             1168             acall   label197
0634 8005             1169             sjmp    label196
                      1170     label195:
0636 301202           1171             jnb     12h, label196
0639 D181             1172             acall   label135
                      1173     label196:
063B 301106           1174             jnb     11h, label198
063E 201308           1175             jb      13h, label199
0641 D14A             1176             acall   label132
0643 22               1177             ret
                      1178     label198:
0644 301302           1179             jnb     13h, label199
0647 D15D             1180             acall   label134
                      1181     label199:
0649 22               1182             ret
                      1183
                      1184     label132:
064A 7903             1185             mov     R1, #3h
064C D120             1186             acall   label180
064E 742A             1187             mov     A, #2Ah
0650 A826             1188             mov     R0, 26h
0652 B80202           1189             cjne    R0, #2h, label200
                      1190     label202:
0655 7412             1191             mov     A, #12h
                      1192     label200:
0657 D107             1193             acall   label175
0659 E9               1194             mov     A, R1
065A D11A             1195             acall   label99
065C 22               1196             ret
                      1197     label134:
065D 790B             1198             mov     R1, #0Bh
065F D120             1199             acall   label180
0661 A826             1200             mov     R0, 26h
0663 B80204           1201             cjne    R0, #2h, label201
0666 D124             1202             acall   label189
0668 80EB             1203             sjmp    label202
                      1204
                      1205     label201:
066A 74AA             1206             mov     A, #BAT_CHK_PASSED_2PC
066C 80E9             1207             sjmp    label200
                      1208     label197:
066E 7902             1209             mov     R1, #2h
0670 D120             1210             acall   label180
0672 7436             1211             mov     A, #36h
0674 A826             1212             mov     R0, 26h
0676 B80202           1213             cjne    R0, #2h, label203
                      1214     label205:
0679 7459             1215             mov     A, #59h
                      1216     label203:
067B D107             1217             acall   label175
067D E9               1218             mov     A, R1
067E D11A             1219             acall   label99
0680 22               1220             ret
                      1221
                      1222     label135:
0681 790A             1223             mov     R1, #0Ah
0683 D120             1224             acall   label180
0685 A826             1225             mov     R0, 26h
0687 B80204           1226             cjne    R0, #2h, label204
068A D124             1227             acall   label189
068C 80EB             1228             sjmp    label205
                      1229     label204:
068E 74B6             1230             mov     A, #0B6h
0690 80E9             1231             sjmp    label203
                      1232     label89:
0692 E533             1233             mov     A, 33h
0694 14               1234             dec     A
0695 5407             1235             anl     A, #7h
0697 900710           1236             mov     DPTR, #data02
069A 93               1237             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
069B F8               1238             mov     R0, A
069C E533             1239             mov     A, 33h
069E 24F7             1240             add     A, #0F7h
06A0 5006             1241             jnc     label206
06A2 E8               1242             mov     A, R0
06A3 5572             1243             anl     A, 72h
06A5 7007             1244             jnz     label207
06A7 22               1245             ret
                      1246
                      1247     label206:
06A8 E8               1248             mov     A, R0
06A9 5573             1249             anl     A, 73h
06AB 7001             1250             jnz     label207
06AD 22               1251             ret
                      1252     label207:
06AE A830             1253             mov     R0, 30h
06B0 E6               1254             mov     A, @R0
06B1 20E531           1255             jb      0E5h, label208
06B4 20E413           1256             jb      0E4h, label209
06B7 20E306           1257             jb      0E3h, label210
06BA 93               1258             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
06BB 4522             1259             orl     A, 22h
06BD F522             1260             mov     22h, A
06BF 22               1261             ret
                      1262
                      1263     label210:
06C0 5407             1264             anl     A, #7h
06C2 93               1265             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
06C3 F4               1266             cpl     A
06C4 5522             1267             anl     A, 22h
06C6 F522             1268             mov     22h, A
06C8 F4               1269             cpl     A
06C9 22               1270             ret
                      1271
                      1272     label209:
06CA 20E315           1273             jb      0E3h, label211
06CD B41003           1274             cjne    A, #10h, label212
06D0 B290             1275             cpl     90h
06D2 22               1276             ret
                      1277
                      1278     label212:
06D3 B41103           1279             cjne    A, #11h, label213
06D6 B291             1280             cpl     91h
06D8 22               1281             ret
                      1282
                      1283     label213:
06D9 B41203           1284             cjne    A, #12h, label214
06DC B292             1285             cpl     92h
06DE 22               1286             ret
                      1287
                      1288     label214:
06DF B223             1289             cpl     23h
06E1 22               1290             ret
                      1291
                      1292     label211:
06E2 D292             1293             setb    92h
06E4 22               1294             ret
                      1295
                      1296     label208:
06E5 B42203           1297             cjne    A, #22h, label215
06E8 C292             1298             clr     92h
06EA 22               1299             ret
                      1300
                      1301     label215:
06EB C21F             1302             clr     1Fh
06ED 22               1303             ret
                      1304
                      1305     label101:
06EE E532             1306             mov     A, byteTosend
06F0 14               1307             dec     A
06F1 5407             1308             anl     A, #7h
06F3 900710           1309             mov     DPTR, #data02
06F6 93               1310             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
06F7 F8               1311             mov     R0, A
06F8 E532             1312             mov     A, byteTosend
06FA 24F7             1313             add     A, #0F7h
06FC 500E             1314             jnc     label216
06FE E532             1315             mov     A, byteTosend
0700 B41105           1316             cjne    A, #11h, label217
0703 E4               1317             clr     A
0704 A21C             1318             mov     C, 1Ch
0706 33               1319             rlc     A
0707 22               1320             ret
                      1321
                      1322     label217:
0708 E8               1323             mov     A, R0
0709 5554             1324             anl     A, VAR_BUFFER_54
070B 22               1325             ret
                      1326
                      1327     label216:
070C E8               1328             mov     A, R0
070D 5555             1329             anl     A, VAR_BUFFER_55
070F 22               1330             ret
                      1331
                      1332     data02:
0710 01               1333             db 01h
0711 02               1334             db 02h
0712 04               1335             db 04h
0713 08               1336             db 08h
0714 10               1337             db 10h
0715 20               1338             db 20h
0716 40               1339             db 40h
0717 80               1340             db 80h
                      1341
                      1342     label87:
0718 302006           1343             jnb     20h, sendAdata
071B 020814           1344             ljmp    Host_RTS_chk
                      1345
                      1346     ; ------------------------------------------------------------------------
                      1347     abort_sending:
071E 0207C4           1348             ljmp    enableINTs
                      1349     ;
                      1350     sendAdata:
0721 F52C             1351             mov     2Ch, A
0723 C2A8             1352             clr     EX0
0725 C2A9             1353             clr     ET0
0727 C28C             1354             clr     TR0
0729 2008F2           1355             jb      BIT_DATA_READY, abort_sending     ;jump if 8h is set
072C 30B2EF           1356             jnb     INT0, abort_sending
072F 30B5EC           1357             jnb     T1, abort_sending     ; bit address B5h
0732 7908             1358             mov     R1, #8h
                      1359 +1          SETDATALINELOW                   ; set port P1.6 low - enable Data line (via *OE of ls125)
0734 C296             1360 +1                  clr     96h
0736 30B5E5           1361             jnb     T1, abort_sending
0739 7805             1362             mov     R0, #5h
073B D8FE             1363             djnz    R0, $
073D 00               1364             nop
073E 30B5DD           1365             jnb     T1, abort_sending
                      1366 +1          SETCLOCKLOW       ; P1.7 low - clock low
0741 C297             1367 +1                  clr     97h
                      1368 +1    WAIT30uSLOOP
0743 7807             1369 +1                  MOV     r0 , #7h
0745 D8FE             1370 +1                  DJNZ    r0 , $
0747 00               1371             nop
                      1372 +1          SETCLOCKHIGH    ; P1.7 high - clock floating
0748 D297             1373 +1                  setb    97h
074A 30B5D1           1374             jnb     T1, abort_sending
                      1375     label225:
074D 30B5CE           1376             jnb     T1, abort_sending
0750 7803             1377             mov     R0, #3h
0752 D8FE             1378             djnz    R0, $
0754 30B5C7           1379             jnb     T1, abort_sending
                      1380     label219:
0757 03               1381             rr      A
0758 20E704           1382             jb      0E7h, label223
                      1383 +1          SETDATALINELOW           ; set port P1.6 low - enable Data line (via *OE of ls125)
075B C296             1384 +1                  clr     96h
075D 8004             1385             sjmp    label224
                      1386     label223:
                      1387 +1          SETDATALINEHIGH         ; set port P1.6 high - disable Data line (via *OE of ls125) - pulled
075F D296             1388 +1                  setb    96h
0761 00               1389             nop
0762 00               1390             nop
                      1391     label224:
0763 30B5B8           1392             jnb     T1, abort_sending
0766 00               1393             nop
0767 7804             1394             mov     R0, #4h
0769 D8FE             1395             djnz    R0, $
076B 30B5B0           1396             jnb     T1, abort_sending
                      1397 +1          SETCLOCKLOW    ; P1.7 low - clock low
076E C297             1398 +1                  clr     97h
                      1399 +1    WAIT30uSLOOP
0770 7807             1400 +1                  MOV     r0 , #7h
0772 D8FE             1401 +1                  DJNZ    r0 , $
0774 00               1402             nop
                      1403 +1          SETCLOCKHIGH   ; P1.7 high - clock floating
0775 D297             1404 +1                  setb    97h
0777 D9D4             1405             djnz    R1, label225
0779 30B548           1406             jnb     T1, enableINTs
077C 7803             1407             mov     R0, #3h
077E D8FE             1408             djnz    R0, $
0780 00               1409             nop
0781 30B540           1410             jnb     T1, enableINTs
0784 20D004           1411             jb      P, label226
                      1412 +1          SETDATALINEHIGH         ; set port P1.6 high - disable Data line (via *OE of ls125) - pulled
0787 D296             1413 +1                  setb    96h
0789 8004             1414             sjmp    label227
                      1415     label226:
                      1416 +1          SETDATALINELOW           ; set port P1.6 low - enable Data line (via *OE of ls125)
078B C296             1417 +1                  clr     96h
078D 00               1418             nop
078E 00               1419             nop
                      1420     label227:
078F 30B532           1421             jnb     T1, enableINTs
0792 7804             1422             mov     R0, #4h
0794 D8FE             1423             djnz    R0, $
0796 00               1424             nop
0797 30B52A           1425             jnb     T1, enableINTs
                      1426 +1          SETCLOCKLOW         ; P1.7 low - clock low
079A C297             1427 +1                  clr     97h
                      1428 +1    WAIT30uSLOOP
079C 7807             1429 +1                  MOV     r0 , #7h
079E D8FE             1430 +1                  DJNZ    r0 , $
07A0 00               1431             nop
                      1432 +1          SETCLOCKHIGH       ; P1.7 high - clock floating
07A1 D297             1433 +1                  setb    97h
07A3 30B51E           1434             jnb     T1, enableINTs
07A6 7806             1435             mov     R0, #6h
07A8 D8FE             1436             djnz    R0, $
07AA 00               1437             nop
                      1438 +1          SETDATALINEHIGH       ; set port P1.6 high - disable Data line (via *OE of ls125) - pulled hi
07AB D296             1439 +1                  setb    96h
                      1440 +1    WAIT30uSLOOP
07AD 7807             1441 +1                  MOV     r0 , #7h
07AF D8FE             1442 +1                  DJNZ    r0 , $
07B1 00               1443             nop
                      1444 +1          SETCLOCKLOW         ; P1.7 low - clock low
07B2 C297             1445 +1                  clr     97h
07B4 20212D           1446             jb      21h, label228
07B7 7806             1447             mov     R0, #6h
07B9 D8FE             1448             djnz    R0, $
07BB 00               1449             nop
                      1450 +1          SETCLOCKHIGH       ; P1.7 high - clock floating
07BC D297             1451 +1                  setb    97h
                      1452     label241:
                      1453 +1    WAIT30uSLOOP
07BE 7807             1454 +1                  MOV     r0 , #7h
07C0 D8FE             1455 +1                  DJNZ    r0 , $
07C2 800E             1456             sjmp    label229
                      1457
                      1458     enableINTs:
                      1459 +1          SETDATALINEHIGH       ; set port P1.6 high - disable Data line (via *OE of ls125) - pulled hi
07C4 D296             1460 +1                  setb    96h
07C6 202106           1461             jb      21h, enableINTs_loc
07C9 D28C             1462             setb    TR0
07CB D2A9             1463             setb    ET0
07CD D2A8             1464             setb    EX0
                      1465     enableINTs_loc:
07CF 74FF             1466             mov     A, #0FFh
07D1 22               1467             ret
                      1468
                      1469     label229:
07D2 D28C             1470             setb    TR0
07D4 D2A9             1471             setb    ET0
07D6 D2A8             1472             setb    EX0
07D8 E52C             1473             mov     A, 2Ch
07DA B4FE03           1474             cjne    A, #0FEh, label231
07DD 0207E2           1475             ljmp    label232
                      1476     label231:
07E0 F52D             1477             mov     2Dh, A
                      1478     label232:
07E2 E4               1479             clr     A
07E3 22               1480             ret
                      1481     ; sendAdata end ---------------------------------------------------------
                      1482
                      1483     label228:
07E4 20B20C           1484             jb      INT0, label233
                      1485     label237:
07E7 20B210           1486             jb      INT0, label234
                      1487     label239:
07EA 20B214           1488             jb      INT0, label235
                      1489     label240:
07ED D220             1490             setb    20h
07EF 7802             1491             mov     R0, #2h
07F1 8017             1492             sjmp    label236
                      1493     label233:
07F3 30B2F1           1494             jnb     INT0, label237
07F6 7803             1495             mov     R0, #3h
07F8 800E             1496             sjmp    label238
                      1497     label234:
07FA 30B2ED           1498             jnb     INT0, label239
07FD 7802             1499             mov     R0, #2h
07FF 8007             1500             sjmp    label238
                      1501     label235:
0801 30B2E9           1502             jnb     INT0, label240
0804 7801             1503             mov     R0, #1h
0806 8000             1504             sjmp    label238
                      1505     label238:
0808 C220             1506             clr     20h
                      1507     label236:
080A D8FE             1508             djnz    R0, $
                      1509 +1          SETCLOCKHIGH   ; P1.7 high - clock floating
080C D297             1510 +1                  setb    97h
080E 3020AD           1511             jnb     20h, label241
0811 02088E           1512             ljmp    label242
                      1513
                      1514     ;---------------------------------
                      1515     Host_RTS_chk:
0814 C2A9             1516             clr     ET0
0816 C28C             1517             clr     TR0
0818 7907             1518             mov     R1, #7h
081A 20B503           1519             jb      T1, label243
081D 020898           1520             ljmp    reenableET0_TR0
                      1521     ;
                      1522     label243:
                      1523 +1          SETCLOCKLOW     ; P1.7 low - clock low
0820 C297             1524 +1                  clr     97h
0822 00               1525             nop
0823 00               1526             nop
0824 00               1527             nop
0825 00               1528             nop
0826 00               1529             nop
                      1530 +1          SETDATALINEHIGH   ; P1.6 high - disable Data line (via *OE of ls125) - pulled high by 2k2 res
0827 D296             1531 +1                  setb    96h
                      1532       ; 98 microseconds delay ------------------------
0829 7818             1533             mov     R0, #18h
082B D8FE             1534             djnz    R0, $
                      1535       ; ----------------------------------------------
082D 7813             1536             mov     R0, #13h
                      1537
                      1538     check_INT0_high:
082F 20B209           1539             jb      INT0, INT0_detected_high
0832 D8FB             1540             djnz    R0, check_INT0_high
                      1541 +1          SETDATALINELOW       ; P1.6 low - Data line low (via *OE of ls125) (Request-to-Send" acknowl
0834 C296             1542 +1                  clr     96h
                      1543 +1          SETCLOCKHIGH          ; P1.7 high - clock floating
0836 D297             1544 +1                  setb    97h
0838 020898           1545             ljmp    reenableET0_TR0
                      1546
                      1547     INT0_detected_high:
                      1548 +1          SETCLOCKHIGH         ; P1.7 high - clock floating - pulled high by 2k2 resistor
083B D297             1549 +1                  setb    97h
                      1550 +1    WAIT62uSLOOP
083D 780F             1551 +1                  MOV     r0 , #0fh
083F D8FE             1552 +1                  DJNZ    r0 , $
0841 00               1553             nop
                      1554 +1          SETCLOCKLOW           ; P1.7 low - clock low
0842 C297             1555 +1                  clr     97h
0844 00               1556             nop
0845 00               1557             nop
                      1558     label249:
0846 00               1559             nop
0847 00               1560             nop
0848 00               1561             nop
0849 03               1562             rr      A
084A 20E704           1563             jb      0E7h, label247
                      1564 +1          SETDATALINELOW         ; P1.6 low - Data line low (via *OE of ls125)
084D C296             1565 +1                  clr     96h
084F 8004             1566             sjmp    label248
                      1567     label247:
                      1568 +1          SETDATALINEHIGH       ; P1.6 high - disable Data line (via *OE of ls125)
0851 D296             1569 +1                  setb    96h
0853 00               1570             nop
0854 00               1571             nop
                      1572     label248:
0855 7802             1573             mov     R0, #2h
0857 D8FE             1574             djnz    R0, $
0859 00               1575             nop
                      1576 +1          SETCLOCKHIGH       ; P1.7 high - clock floating
085A D297             1577 +1                  setb    97h
                      1578 +1    WAIT62uSLOOP
085C 780F             1579 +1                  MOV     r0 , #0fh
085E D8FE             1580 +1                  DJNZ    r0 , $
0860 00               1581             nop
                      1582 +1          SETCLOCKLOW         ; P1.7 low - clock low
0861 C297             1583 +1                  clr     97h
0863 D9E1             1584             djnz    R1, label249
0865 00               1585             nop
0866 00               1586             nop
0867 00               1587             nop
0868 03               1588             rr      A
0869 20E704           1589             jb      0E7h, label250
                      1590 +1          SETDATALINELOW         ; clear port P1.6 - Data line low (via *OE of ls125)
086C C296             1591 +1                  clr     96h
                      1592             ;setb   93h       ; set port P1.3 high - unconnected pin AKD
086E 8004             1593             sjmp    label251
                      1594     label250:
                      1595 +1          SETDATALINEHIGH       ; set port P1.6 high - disable Data line (via *OE of ls125)
0870 D296             1596 +1                  setb    96h
                      1597             ;setb   93h       ; set port P1.3 high - unconnected pin AKD
0872 00               1598             nop
0873 00               1599             nop
                      1600     label251:
0874 7802             1601             mov     R0, #2h
0876 D8FE             1602             djnz    R0, $
                      1603 +1          SETCLOCKHIGH    ; P1.7 high - clock floating
0878 D297             1604 +1                  setb    97h
                      1605
                      1606     label414:
                      1607 +1    WAIT62uSLOOP
087A 780F             1608 +1                  MOV     r0 , #0fh
087C D8FE             1609 +1                  DJNZ    r0 , $
087E 00               1610             nop
                      1611 +1          SETCLOCKLOW      ; P1.7 low - clock low
087F C297             1612 +1                  clr     97h
0881 7803             1613             mov     R0, #3h
0883 D8FE             1614             djnz    R0, $
0885 00               1615             nop
                      1616 +1          SETDATALINELOW    ; P1.6 low - Data line low (via *OE of ls125)
0886 C296             1617 +1                  clr     96h
                      1618             ;clr    93h
0888 7803             1619             mov     R0, #3h
088A D8FE             1620             djnz    R0, $
                      1621 +1          SETCLOCKHIGH   ; P1.7 high - clock floating
088C D297             1622 +1                  setb    97h
                      1623     label242:
                      1624 +1    WAIT62uSLOOP
088E 780F             1625 +1                  MOV     r0 , #0fh
0890 D8FE             1626 +1                  DJNZ    r0 , $
0892 D28C             1627             setb    TR0
0894 D2A9             1628             setb    ET0
0896 E4               1629             clr     A
0897 22               1630             ret
                      1631
                      1632     ;--------------------------------------
                      1633     reenableET0_TR0:
0898 D28C             1634             setb    TR0
089A D2A9             1635             setb    ET0
089C 74FF             1636             mov     A, #0FFh
089E 22               1637             ret
                      1638
                      1639     ; ---------------I N T E R R U P T  0 -- Falling edge on Data line -----
                      1640     int0lbl:
089F 302003           1641             jnb     20h, waitData  ; if Bit 0 of RAM 24h is 0 -> go on
08A2 02092A           1642             ljmp    int0lbl_reti
                      1643
                      1644     waitData:
08A5 C0E0             1645             push    ACC
08A7 C0D0             1646             push    PSW
08A9 D2D3             1647             setb    RS0
08AB C2D5             1648             clr     F0            ; clear user bit F0
08AD 7908             1649             mov     R1, #8h
                      1650     label255:
08AF 20B506           1651             jb      T1, debouncing_15_cycle_delay
08B2 30B2FA           1652             jnb     INT0, label255
08B5 020926           1653             ljmp    label256
                      1654     debouncing_15_cycle_delay:
                      1655 +1    WAIT62uSLOOP
08B8 780F             1656 +1                  MOV     r0 , #0fh
08BA D8FE             1657 +1                  DJNZ    r0 , $
08BC 30B203           1658             jnb     INT0, Bit_Sampling_Loop
08BF 020926           1659             ljmp    label256
                      1660
                      1661     Bit_Sampling_Loop:
                      1662 +1          SETCLOCKLOW             ; P1.7 low - clock low
08C2 C297             1663 +1                  clr     97h
                      1664 +1    WAIT30uSLOOP
08C4 7807             1665 +1                  MOV     r0 , #7h
08C6 D8FE             1666 +1                  DJNZ    r0 , $
08C8 C3               1667             clr     C
                      1668 +1          SETCLOCKHIGH           ; P1.7 high - clock floating
08C9 D297             1669 +1                  setb    97h
08CB 20B202           1670             jb      INT0, label258
08CE 8003             1671             sjmp    label259
                      1672     label258:
08D0 B2D5             1673             cpl     F0
08D2 D3               1674             setb    C
                      1675     label259:
08D3 13               1676             rrc     A
08D4 00               1677             nop
08D5 780C             1678             mov     R0, #0Ch
08D7 D8FE             1679             djnz    R0, $
08D9 D9E7             1680             djnz    R1, Bit_Sampling_Loop
                      1681 +1          SETCLOCKLOW         ; P1.7 low - clock low
08DB C297             1682 +1                  clr     97h
                      1683 +1    WAIT30uSLOOP
08DD 7807             1684 +1                  MOV     r0 , #7h
08DF D8FE             1685 +1                  DJNZ    r0 , $
08E1 00               1686             nop
                      1687 +1          SETCLOCKHIGH       ; P1.7 high - clock floating
08E2 D297             1688 +1                  setb    97h
08E4 20B202           1689             jb      INT0, label260
08E7 8003             1690             sjmp    label261
                      1691
                      1692     label260:
08E9 B2D5             1693             cpl     F0
                      1694     label424:
08EB 00               1695             nop
                      1696     label261:
08EC 780E             1697             mov     R0, #0Eh
08EE D8FE             1698             djnz    R0, $
                      1699 +1          SETCLOCKLOW      ; P1.7 low - clock low
08F0 C297             1700 +1                  clr     97h
                      1701 +1    WAIT30uSLOOP
08F2 7807             1702 +1                  MOV     r0 , #7h
08F4 D8FE             1703 +1                  DJNZ    r0 , $
08F6 00               1704             nop
                      1705 +1          SETCLOCKHIGH   ; P1.7 high - clock floating
08F7 D297             1706 +1                  setb    97h
08F9 20B202           1707             jb      INT0, label262
08FC 8002             1708             sjmp    label263
                      1709     label262:
08FE 00               1710             nop
08FF 00               1711             nop
                      1712     label263:
0900 7805             1713             mov     R0, #5h
0902 D8FE             1714             djnz    R0, $
0904 00               1715             nop
                      1716 +1          SETDATALINELOW       ; P1.6 low - Data line low (via *OE of ls125)
0905 C296             1717 +1                  clr     96h
                      1718 +1    WAIT30uSLOOP
0907 7807             1719 +1                  MOV     r0 , #7h
0909 D8FE             1720 +1                  DJNZ    r0 , $
090B 00               1721             nop
                      1722 +1          SETCLOCKLOW       ; P1.7 low - clock low
090C C297             1723 +1                  clr     97h
                      1724 +1    WAIT30uSLOOP
090E 7807             1725 +1                  MOV     r0 , #7h
0910 D8FE             1726 +1                  DJNZ    r0 , $
0912 00               1727             nop
                      1728 +1          SETCLOCKHIGH     ; P1.7 high - clock floating
0913 D297             1729 +1                  setb    97h
                      1730 +1    WAIT30uSLOOP
0915 7807             1731 +1                  MOV     r0 , #7h
0917 D8FE             1732 +1                  DJNZ    r0 , $
0919 00               1733             nop
                      1734 +1          SETDATALINEHIGH     ; set port P1.6 high - disable Data line (via *OE of ls125)
091A D296             1735 +1                  setb    96h
091C FB               1736             mov     R3, A
091D A2D5             1737             mov     C, F0
091F 9224             1738             mov     24h, C
0921 D208             1739             setb    BIT_DATA_READY
0923 00               1740             nop
0924 00               1741             nop
0925 00               1742             nop
                      1743
                      1744     label256:
0926 D0D0             1745             pop     PSW
0928 D0E0             1746             pop     ACC
                      1747     int0lbl_reti:
092A 32               1748             reti
                      1749
                      1750     ; ---------------T I M E R  1  Int ---------------- every 7.68 ms-----
                      1751     int_Timer0:
092B 758A00           1752             mov     TL0, #0h
092E 758CF1           1753             mov     TH0, #0F1h
0931 C0D0             1754             push    PSW
0933 D2D3             1755             setb    RS0
0935 20B51D           1756             jb      T1, label264
0938 30201A           1757             jnb     20h, label264
                      1758 +1          SETDATALINEHIGH           ; set port P1.6 high - disable Data line (via *OE of ls125)
093B D296             1759 +1                  setb    96h
093D 30B213           1760             jnb     INT0, label265
0940 C28C             1761             clr     TR0
0942 7853             1762             mov     R0, #53h
                      1763     label267:
0944 30B20A           1764             jnb     INT0, label266  ; jump if Data input is low
0947 20B507           1765             jb      T1, label266
094A D8F8             1766             djnz    R0, label267
                      1767 +1          SETDATALINELOW             ; clear port P1.6 - Data line low (via *OE of ls125)
094C C296             1768 +1                  clr     96h
094E 020CAE           1769             ljmp    reload_defaults
                      1770
                      1771     label266:
0951 D28C             1772             setb    TR0
                      1773     label265:
                      1774 +1          SETDATALINELOW             ; clear port P1.6 - Data line low (via *OE of ls125)
0953 C296             1775 +1                  clr     96h
                      1776     label264:
0955 BD0006           1777             cjne    R5, #0h, label269
0958 BC000C           1778             cjne    R4, #0h, label270
                      1779     label271:
095B D0D0             1780             pop     PSW
095D 32               1781             reti
                      1782
                      1783     label269:
095E DDFB             1784             djnz    R5, label271
0960 BC00F8           1785             cjne    R4, #0h, label271
0963 D209             1786             setb    9h
0965 80F4             1787             sjmp    label271
                      1788     label270:
0967 1C               1789             dec     R4
0968 1D               1790             dec     R5
0969 80F0             1791             sjmp    label271
                      1792     ; ---------------T I M E R  1 Int -------------END
                      1793
                      1794     send0FAh__genericAck:
096B 74FA             1795             mov     A, #ACK_GENERIC_2PC
                      1796     sendAccumulator:
096D 120721           1797             lcall   sendAdata
0970 6009             1798             jz      send_acknowledge_ret    ; return if Accumulator is zero
0972 200804           1799             jb      BIT_DATA_READY, label273
0975 E52C             1800             mov     A, 2Ch
0977 80F4             1801             sjmp    sendAccumulator
                      1802     label273:
0979 74FF             1803             mov     A, #0FFh
                      1804     send_acknowledge_ret:
097B 22               1805             ret
                      1806     ; ------------------------------------------------
                      1807
                      1808     Wait_Sync_Pattern:
097C 20082B           1809             jb      BIT_DATA_READY, data_received   ; If it's set (Bit 0 of RAM Byte 21h), the keyboard h
097F 30B510           1810             jnb     T1, Interrupt_and_Hardware_Sync        ; If T1 (Clock) is Low (0), jump to interrupt
0982 E532             1811             mov     A, byteTosend
0984 24F0             1812             add     A, #0F0h
0986 400A             1813             jc      Interrupt_and_Hardware_Sync
0988 7940             1814             mov     R1, #40h
098A AA27             1815             mov     R2, 27h
098C 120258           1816             lcall   circular_buffer_mngr
098F 1202E7           1817             lcall   label37
                      1818     Interrupt_and_Hardware_Sync:
0992 C2A8             1819             clr     EX0
0994 C2A9             1820             clr     ET0
0996 C28C             1821             clr     TR0
0998 852A0C           1822             mov     0Ch, 2Ah
099B 852B0D           1823             mov     0Dh, 2Bh
099E C209             1824             clr     9h
09A0 D28C             1825             setb    TR0
09A2 D2A9             1826             setb    ET0
09A4 202002           1827             jb      20h, label276
09A7 D2A8             1828             setb    EX0
                      1829     label276:
09A9 22               1830             ret
                      1831
                      1832
                      1833
                      1834
                      1835
                      1836
                      1837     data_received:
09AA C2A8             1838             clr     EX0
09AC C208             1839             clr     BIT_DATA_READY        ; clear Data Ready flag
09AE AA0B             1840             mov     R2, 0Bh
09B0 A224             1841             mov     C, 24h
09B2 D2A8             1842             setb    EX0
                      1843             ; Invert logic for JC to use LJMP
09B4 5003             1844             jnc     skip_parse_received
09B6 0209BC           1845             ljmp parse_received
                      1846     skip_parse_received:
09B9 020BB6           1847             ljmp    send0FEh_data  ; CHANGED: AJMP to LJMP
                      1848
                      1849     parse_received:
                      1850 +1          LOAD_CMDID_IN_ACC
09BC EA               1851 +1                  mov     a , r2
09BD B4FE03           1852             cjne    A, #0FEh, next_check01
09C0 020A8C           1853             ljmp    resend_data ; CHANGED: AJMP to LJMP
                      1854
                      1855     next_check01:
09C3 B4F103           1856             cjne    A, #0F1h, next_check02
                      1857             ; Invert logic for SJMP to use LJMP
09C6 020A32           1858             ljmp    set_Typematic_Rate_Delay
                      1859
                      1860     next_check02:
09C9 B4EF03           1861             cjne    A, #0EFh, cmds_range_check
                      1862             ; Invert logic for SJMP to use LJMP
09CC 020A32           1863             ljmp    set_Typematic_Rate_Delay
                      1864
                      1865     cmds_range_check:
09CF 2413             1866             add     A, #13h
                      1867             ; Invert logic for JC to use LJMP
09D1 5003             1868             jnc     skip_checkCMD_ID
09D3 0209D9           1869             ljmp checkCMD_ID
                      1870     skip_checkCMD_ID:
                      1871             ; Invert logic for SJMP to use LJMP
09D6 020A32           1872             ljmp    set_Typematic_Rate_Delay
                      1873
                      1874
                      1875     checkCMD_ID:
09D9 752500           1876             mov     25h, #0h          ; Resets a status flag in 25h RAM
09DC 9009E6           1877             mov     DPTR, #jmptbl9C9
                      1878 +1          LOAD_CMDID_IN_ACC         ; R2 is command ID
09DF EA               1879 +1                  mov     a , r2
09E0 F4               1880             cpl     A
                      1881             ; --- CHANGED: Use MUL AB for 3-byte LJMP table ---
09E1 75F003           1882       mov  B, #3          ; Load multiplier for 3-byte LJMP
09E4 A4               1883       mul  AB             ; A = A * 3
                      1884       ; --- End of New Math ---
09E5 73               1885             jmp     @A+DPTR         ; JMP @A+DPTR still works for 64KB range
                      1886
                      1887     ; --- Updated Table (3 bytes per entry) ---
                      1888     jmptbl9C9:
09E6 020A60           1889             ljmp    label285
09E9 020A25           1890             ljmp    exit_cmd_handler
09EC 020A90           1891             ljmp    label287
09EF 020A96           1892             ljmp    label288
09F2 020A9C           1893             ljmp    label289
09F5 020AD5           1894             ljmp    label290
09F8 020AEA           1895             ljmp    label291
09FB 020AEE           1896             ljmp    label292
09FE 020AF2           1897             ljmp    label293
0A01 020AF6           1898             ljmp    label294
0A04 020B01           1899             ljmp    label295
0A07 020B0E           1900             ljmp    label296
0A0A 020B19           1901             ljmp    label297
0A0D 020B4A           1902             ljmp    label298
0A10 020A25           1903             ljmp    exit_cmd_handler      ; Duplicate entry safe with LJMP
0A13 020B6D           1904             ljmp    label299
0A16 020A25           1905             ljmp    exit_cmd_handler      ; Duplicate entry safe with LJMP
0A19 020B91           1906             ljmp    label300
0A1C 020B99           1907             ljmp    label301
                      1908
                      1909     unsupported_cmd:
0A1F 3008FD           1910             jnb     BIT_DATA_READY, $     ; wait until 8h (Data Ready) is cleared
0A22 0209AA           1911             ljmp    data_received
                      1912
                      1913     exit_cmd_handler:
0A25 752500           1914         mov 25h, #0h
0A28 2022F4           1915         jb  22h, unsupported_cmd
0A2B 300803           1916         jnb BIT_DATA_READY, no_more_data   ; If bit 8h is NOT set, jump over the LJMP
0A2E 0209AA           1917         ljmp data_received       ; If bit 8h WAS set, perform a Long Jump
                      1918     no_more_data:
0A31 22               1919         ret
                      1920
                      1921
                      1922
                      1923
                      1924     set_Typematic_Rate_Delay:
                      1925 +1          LOAD_CMDID_IN_ACC               ; loads received byte into A
0A32 EA               1926 +1                  mov     a , r2
0A33 302805           1927             jnb     28h, label303
0A36 20E724           1928             jb      0E7h, error_prot_violation
0A39 6122             1929             ajmp    label305
                      1930     label303:
0A3B 302906           1931             jnb     29h, label306
0A3E 24F8             1932             add     A, #0F8h
0A40 401B             1933             jc      error_prot_violation
0A42 61A2             1934             ajmp    label307
                      1935     label306:
0A44 302A06           1936             jnb     2Ah, label308
0A47 24FC             1937             add     A, #0FCh
0A49 4012             1938             jc      error_prot_violation
0A4B 6177             1939             ajmp    label309
                      1940     label308:
0A4D 302B0D           1941             jnb     2Bh, error_prot_violation
0A50 B48302           1942             cjne    A, #83h, label310
0A53 41AC             1943             ajmp    recOK_sendACK
                      1944     label310:
0A55 B48402           1945             cjne    A, #84h, label312
                      1946     label313:
0A58 41AC             1947             ajmp    recOK_sendACK
                      1948     label312:
0A5A 30E7FB           1949             jnb     0E7h, label313
                      1950
                      1951     error_prot_violation:
0A5D 020BB6           1952             ljmp    send0FEh_data
                      1953
                      1954     label285:
0A60 12096B           1955             lcall   send0FAh__genericAck
0A63 7024             1956             jnz     label315
0A65 C2A9             1957             clr     ET0
0A67 C28C             1958             clr     TR0
0A69 C2A8             1959             clr     EX0
0A6B 200815           1960             jb      BIT_DATA_READY, enable_timer0_int0
                      1961     label318:
0A6E 20B505           1962             jb      T1, label317
0A71 30B20F           1963             jnb     INT0, enable_timer0_int0
0A74 80F8             1964             sjmp    label318
                      1965     label317:
0A76 7829             1966             mov     R0, #29h
                      1967     label319:
0A78 30B208           1968             jnb     INT0, enable_timer0_int0
0A7B 30B505           1969             jnb     T1, enable_timer0_int0
                      1970     label382:
0A7E D8F8             1971             djnz    R0, label319
0A80 020C80           1972             ljmp    label320
                      1973
                      1974     enable_timer0_int0:
0A83 D28C             1975             setb    TR0
0A85 D2A9             1976             setb    ET0
0A87 D2A8             1977             setb    EX0
                      1978     label315:
0A89 020A25           1979             ljmp    exit_cmd_handler
                      1980
                      1981     resend_data:
0A8C E52D             1982             mov     A, 2Dh
0A8E 61B8             1983             ajmp    label321
                      1984     label287:
0A90 C226             1985             clr     26h
0A92 C227             1986             clr     27h
0A94 800A             1987             sjmp    label322
                      1988     label288:
0A96 C226             1989             clr     26h
0A98 D227             1990             setb    27h
0A9A 8004             1991             sjmp    label322
                      1992     label289:
0A9C D226             1993             setb    26h
0A9E C227             1994             clr     27h
                      1995     label322:
0AA0 316B             1996             acall   send0FAh__genericAck
0AA2 702E             1997             jnz     label323
0AA4 9108             1998             acall   label324
0AA6 D222             1999             setb    22h
0AA8 D22B             2000             setb    2Bh
0AAA 411F             2001             ajmp    unsupported_cmd
                      2002
                      2003     recOK_sendACK:
0AAC 316B             2004             acall   send0FAh__genericAck
0AAE 7022             2005             jnz     label323
0AB0 900E78           2006             mov     DPTR, #data0E26
                      2007 +1          LOAD_CMDID_IN_ACC
0AB3 EA               2008 +1                  mov     a , r2
0AB4 93               2009             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
0AB5 B4FF02           2010             cjne    A, #0FFh, supported_cmd
0AB8 411F             2011             ajmp    unsupported_cmd
                      2012
                      2013     supported_cmd:
0ABA FA               2014             mov     R2, A
0ABB 71DC             2015             acall   label80
0ABD E8               2016             mov     A, R0
0ABE F4               2017             cpl     A
0ABF 57               2018             anl     A, @R1
0AC0 F7               2019             mov     @R1, A
0AC1 20260A           2020             jb      26h, label326
0AC4 302705           2021             jnb     27h, label327
0AC7 E8               2022             mov     A, R0
0AC8 03               2023             rr      A
                      2024     label328:
0AC9 58               2025             anl     A, R0
0ACA 47               2026             orl     A, @R1
0ACB F7               2027             mov     @R1, A
                      2028     label327:
0ACC 411F             2029             ajmp    unsupported_cmd
                      2030     label326:
0ACE E8               2031             mov     A, R0
0ACF 23               2032             rl      A
0AD0 80F7             2033             sjmp    label328
                      2034     label323:
0AD2 020A25           2035             ljmp    exit_cmd_handler
                      2036
                      2037     label290:
0AD5 7AFF             2038             mov     R2, #0FFh
                      2039     label331:
0AD7 316B             2040             acall   send0FAh__genericAck
0AD9 700C             2041             jnz     send_0FAh_nok1
                      2042 +1          LOAD_CMDID_IN_ACC
0ADB EA               2043 +1                  mov     a , r2
0ADC 7856             2044             mov     R0, #56h
                      2045     label330:
0ADE F6               2046             mov     @R0, A
0ADF 08               2047             inc     R0
0AE0 B872FB           2048             cjne    R0, #72h, label330
0AE3 D225             2049             setb    25h
0AE5 9108             2050             acall   label324
                      2051     send_0FAh_nok1:
0AE7 020A25           2052             ljmp    exit_cmd_handler
                      2053
                      2054     label291:
0AEA 7A00             2055             mov     R2, #0h
0AEC 80E9             2056             sjmp    label331
                      2057     label292:
0AEE 7A55             2058             mov     R2, #55h
0AF0 80E5             2059             sjmp    label331
                      2060
                      2061     label293:
0AF2 7AAA             2062             mov     R2, #BAT_CHK_PASSED_2PC
0AF4 80E1             2063             sjmp    label331
                      2064
                      2065     label294:
0AF6 316B             2066             acall   send0FAh__genericAck
0AF8 7004             2067             jnz     send_0FAh_nok2
0AFA 71F1             2068             acall   flags_and_vars_init
0AFC 9108             2069             acall   label324
                      2070
                      2071     send_0FAh_nok2:
0AFE 020A25           2072             ljmp    exit_cmd_handler
                      2073
                      2074     label295:
0B01 316B             2075             acall   send0FAh__genericAck
0B03 7006             2076             jnz     send_0FAh_nok3
0B05 71F1             2077             acall   flags_and_vars_init
0B07 9108             2078             acall   label324
0B09 D222             2079             setb    22h         ; scanning enabled flag
                      2080     send_0FAh_nok3:
0B0B 020A25           2081             ljmp    exit_cmd_handler
                      2082
                      2083     label296:
0B0E 316B             2084             acall   send0FAh__genericAck
0B10 7004             2085             jnz     send_0FAh_nok4
0B12 9108             2086             acall   label324
0B14 C222             2087             clr     22h           ; scanning disabled flag
                      2088     send_0FAh_nok4:
0B16 020A25           2089             ljmp    exit_cmd_handler
                      2090
                      2091     label297:
0B19 316B             2092             acall   send0FAh__genericAck
0B1B 702A             2093             jnz     send_0FAh_nok5
0B1D D228             2094             setb    28h
0B1F 020A1F           2095             ljmp    unsupported_cmd
                      2096
                      2097     label305:
0B22 12096B           2098             lcall   send0FAh__genericAck
0B25 7020             2099             jnz     send_0FAh_nok5
0B27 900F78           2100             mov     DPTR, #data0F26
                      2101 +1          LOAD_CMDID_IN_ACC
0B2A EA               2102 +1                  mov     a , r2
0B2B 5460             2103             anl     A, #60h
0B2D C4               2104             swap    A
0B2E F8               2105             mov     R0, A
0B2F 93               2106             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
0B30 F528             2107             mov     28h, A
0B32 08               2108             inc     R0
0B33 E8               2109             mov     A, R0
0B34 93               2110             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
0B35 F529             2111             mov     29h, A
0B37 900F80           2112             mov     DPTR, #data0F2E
                      2113 +1          LOAD_CMDID_IN_ACC
0B3A EA               2114 +1                  mov     a , r2
0B3B 541F             2115             anl     A, #1Fh
0B3D 23               2116             rl      A
0B3E F8               2117             mov     R0, A
0B3F 93               2118             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
0B40 F52A             2119             mov     2Ah, A
0B42 08               2120             inc     R0
0B43 E8               2121             mov     A, R0
0B44 93               2122             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
0B45 F52B             2123             mov     2Bh, A
                      2124
                      2125     send_0FAh_nok5:
0B47 020A25           2126             ljmp    exit_cmd_handler
                      2127
                      2128     label298:
0B4A 12096B           2129             lcall   send0FAh__genericAck
0B4D 70F8             2130             jnz     send_0FAh_nok5
0B4F C222             2131             clr     22h
                      2132     label342:
0B51 752500           2133             mov     25h, #0h
0B54 74AB             2134             mov     A, #0ABh
0B56 12096D           2135             lcall   sendAccumulator
0B59 6004             2136             jz      label336
0B5B D22C             2137             setb    2Ch
0B5D 21AA             2138             ajmp    data_received
                      2139
                      2140     label336:
0B5F 752500           2141             mov     25h, #0h
0B62 7483             2142             mov     A, #83h
0B64 12096D           2143             lcall   sendAccumulator
0B67 60DE             2144             jz      send_0FAh_nok5
0B69 D22D             2145             setb    2Dh
0B6B 21AA             2146             ajmp    data_received
                      2147
                      2148     label299:
0B6D 316B             2149             acall   send0FAh__genericAck
0B6F 701D             2150             jnz     label337
0B71 9108             2151             acall   label324
0B73 D22A             2152             setb    2Ah
0B75 411F             2153             ajmp    unsupported_cmd
                      2154
                      2155     label309:
0B77 316B             2156             acall   send0FAh__genericAck
0B79 7013             2157             jnz     label337
0B7B BA000E           2158             cjne    R2, #0h, label338
                      2159     label345:
0B7E 752500           2160             mov     25h, #0h
0B81 E526             2161             mov     A, 26h
0B83 12096D           2162             lcall   sendAccumulator
0B86 6006             2163             jz      label337
0B88 D22E             2164             setb    2Eh
0B8A 21AA             2165             ajmp    data_received
                      2166     label338:
0B8C 8A26             2167             mov     26h, R2
                      2168     label337:
0B8E 020A25           2169             ljmp    exit_cmd_handler
                      2170
                      2171     label300:
0B91 74EE             2172             mov     A, #0EEh
0B93 12096D           2173             lcall   sendAccumulator
                      2174
                      2175     label385:
0B96 020A25           2176             ljmp    exit_cmd_handler
                      2177     label301:
0B99 12096B           2178             lcall   send0FAh__genericAck
0B9C 7015             2179             jnz     label339
0B9E D229             2180             setb    29h
0BA0 411F             2181             ajmp    unsupported_cmd
                      2182     label307:
0BA2 12096B           2183             lcall   send0FAh__genericAck
0BA5 700C             2184             jnz     label339
                      2185 +1          LOAD_CMDID_IN_ACC
0BA7 EA               2186 +1                  mov     a , r2
0BA8 13               2187             rrc     A
0BA9 9290             2188             mov     90h, C
0BAB 13               2189             rrc     A
0BAC 9291             2190             mov     91h, C
0BAE 9223             2191             mov     23h, C
0BB0 13               2192             rrc     A
                      2193     label392:
0BB1 9292             2194             mov     92h, C
                      2195     label339:
0BB3 020A25           2196             ljmp    exit_cmd_handler
                      2197
                      2198     send0FEh_data:
0BB6 74FE             2199             mov     A, #0FEh
                      2200     label321:
0BB8 12096D           2201             lcall   sendAccumulator
0BBB 6003             2202             jz      label340
0BBD 0209AA           2203             ljmp    data_received
                      2204
                      2205     label340:
0BC0 302C03           2206             jnb     2Ch, label341
0BC3 020B51           2207             ljmp    label342
                      2208     label341:
0BC6 302D03           2209             jnb     2Dh, label343
0BC9 020B5F           2210             ljmp    label336
                      2211     label343:
0BCC 302E03           2212             jnb     2Eh, label344
0BCF 020B7E           2213             ljmp    label345
                      2214     label344:
0BD2 E525             2215             mov     A, 25h
0BD4 7003             2216             jnz     label346
0BD6 020A25           2217             ljmp    exit_cmd_handler
                      2218     label346:
0BD9 020A1F           2219             ljmp    unsupported_cmd
                      2220
                      2221     label80:
                      2222 +1          LOAD_CMDID_IN_ACC
0BDC EA               2223 +1                  mov     a , r2
0BDD 5403             2224             anl     A, #3h
0BDF 900BED           2225             mov     DPTR, #data01
0BE2 93               2226             movc    A, @A+DPTR        ; load accumulator with DPTR + A pointed data
0BE3 F8               2227             mov     R0, A
                      2228 +1          LOAD_CMDID_IN_ACC
0BE4 EA               2229 +1                  mov     a , r2
0BE5 54FC             2230             anl     A, #0FCh
0BE7 03               2231             rr      A
0BE8 03               2232             rr      A
0BE9 2456             2233             add     A, #56h
0BEB F9               2234             mov     R1, A
0BEC 22               2235             ret
                      2236
                      2237     data01:
0BED 03               2238             db 03h
0BEE 0C               2239             db 0Ch
0BEF 30               2240             db 30h
0BF0 C0               2241             db 0C0h
                      2242     ;       db 78h
                      2243     ;       db 56h
                      2244
                      2245
                      2246     ; ----------------------------------------------------------------------------------------------
                      2247
                      2248     flags_and_vars_init:
0BF1 7856             2249             mov R0, #56h
                      2250     label9_loop:
0BF3 76FF             2251       mov   @R0, #0FFh
0BF5 08               2252             inc     R0
0BF6 B872FA           2253             cjne    R0, #72h, label9_loop
0BF9 C225             2254             clr     25h
0BFB 752801           2255             mov     28h, #1h
0BFE 7529F4           2256             mov     29h, #0F4h
0C01 752A00           2257             mov     2Ah, #0h
0C04 752B5C           2258             mov     2Bh, #5Ch
0C07 22               2259             ret
                      2260
                      2261     label324:
0C08 301E01           2262             jnb     1Eh, label349
0C0B 22               2263             ret
                      2264     label349:
0C0C 7834             2265             mov     R0, #34h
0C0E 1201C5           2266             lcall   scanning_routine
                      2267
                      2268     PS2_clock_edge_count:
0C11 7440             2269             mov     A, #40h
                      2270     label350:
0C13 A2B4             2271             mov     C, T0
0C15 05A0             2272             inc     P2
0C17 13               2273             rrc     A
0C18 50F9             2274             jnc     label350
0C1A A2B4             2275             mov     C, T0
0C1C 13               2276             rrc     A
0C1D 56               2277             anl     A, @R0
0C1E F6               2278             mov     @R0, A
0C1F 300106           2279             jnb     1h, label351
0C22 08               2280             inc     R0
0C23 1201DA           2281             lcall   label43
0C26 80E9             2282             sjmp    PS2_clock_edge_count
                      2283
                      2284     label351:
0C28 752E43           2285             mov     2Eh, #43h ; Reset Write Pointer to start of buffer
0C2B 752F43           2286             mov     2Fh, #43h ; Reset Read Pointer to start of buffer
0C2E E4               2287             clr     A
0C2F F532             2288             mov     byteTosend, A ; Clear the "bytes-to-send" counter
0C31 F533             2289             mov     33h, A
0C33 A21A             2290             mov     C, 1Ah
0C35 F523             2291             mov     23h, A
0C37 921A             2292             mov     1Ah, C
0C39 F531             2293             mov     31h, A
0C3B 7808             2294             mov     R0, #8h
0C3D E534             2295             mov     A, 34h
                      2296     label354:
0C3F 13               2297             rrc     A
0C40 5002             2298             jnc     label353
0C42 0531             2299             inc     31h
                      2300     label353:
0C44 D8F9             2301             djnz    R0, label354
0C46 E535             2302             mov     A, 35h
0C48 30E702           2303             jnb     0E7h, label355
0C4B 0531             2304             inc     31h
                      2305     label355:
0C4D 7803             2306             mov     R0, #3h
                      2307     label357:
0C4F 13               2308             rrc     A
0C50 5002             2309             jnc     label356
0C52 0531             2310             inc     31h
                      2311     label356:
0C54 D8F9             2312             djnz    R0, label357
0C56 E535             2313             mov     A, 35h
0C58 A2E4             2314             mov     C, 0E4h
0C5A 9216             2315             mov     16h, C
0C5C E536             2316             mov     A, 36h
0C5E 13               2317             rrc     A
0C5F 13               2318             rrc     A
0C60 13               2319             rrc     A
0C61 9211             2320             mov     11h, C
0C63 13               2321             rrc     A
0C64 9210             2322             mov     10h, C
0C66 E541             2323             mov     A, 41h
0C68 13               2324             rrc     A
0C69 9217             2325             mov     17h, C
0C6B E542             2326             mov     A, 42h
0C6D A2E0             2327             mov     C, 0E0h
0C6F 9215             2328             mov     15h, C
0C71 A2E5             2329             mov     C, 0E5h
0C73 9214             2330             mov     14h, C
0C75 D21E             2331             setb    1Eh
                      2332     label25:
0C77 750C00           2333             mov     0Ch, #0h
0C7A 750D00           2334             mov     0Dh, #0h
0C7D C209             2335             clr     9h
0C7F 22               2336             ret
                      2337
                      2338     label320:
0C80 75817F           2339             mov     SP, #STACK_POINTER_POS
                      2340
                      2341     ifdef use_buzzer
0C83 7590FF           2342             mov     P1, #0FFh ; turn ON LEDs - buzzer off
                      2343     else
                      2344             mov     P1, #0F7h ; turn ON LEDs
                      2345     endif
                      2346
0C86 758A00           2347             mov     TL0, #0h
0C89 758CF1           2348             mov     TH0, #0F1h
0C8C 120FC0           2349       lcall HW_init_return_R1equAA
0C8F 787F             2350             mov     R0, #7Fh
                      2351
                      2352     label359:
0C91 76FF             2353             mov     @R0, #0FFh
0C93 B6FF0B           2354             cjne    @R0, #0FFh, label358
0C96 7600             2355             mov     @R0, #0h
0C98 B60006           2356             cjne    @R0, #0h, label358
0C9B 18               2357             dec     R0
0C9C B801F2           2358             cjne    R0, #1h, label359
0C9F 8008             2359             sjmp    label360
                      2360     label358:
0CA1 787F             2361             mov     R0, #7Fh
                      2362     label361:
0CA3 7600             2363             mov     @R0, #0h
0CA5 D8FC             2364             djnz    R0, label361
0CA7 79FC             2365             mov     R1, #BAT_CHK_FAILED_2PC
                      2366     label360:
0CA9 C221             2367             clr     21h
0CAB 02003E           2368             ljmp    label362
                      2369
                      2370     reload_defaults:
0CAE C2A9             2371             clr     ET0
0CB0 312A             2372             acall   int0lbl_reti
0CB2 75817F           2373             mov     SP, #STACK_POINTER_POS
                      2374
                      2375     ifdef use_buzzer
0CB5 7590BF           2376             mov     P1, #0BFh ; turn on all leds and put clock p1.6 to low - buzzer off
                      2377     else
                      2378             mov     P1, #0B7h ; turn on all leds (a flash to signal error) and put clock p1.6 to low
                      2379     endif
                      2380
0CB8 758A00           2381             mov     TL0, #0h    ; Timer0 Low
0CBB 758CF1           2382             mov     TH0, #0F1h  ; Timer0 High
0CBE C2D3             2383             clr     RS0
0CC0 120FC0           2384       lcall HW_init_return_R1equAA
                      2385
                      2386     high_security_memory_wipe:
0CC3 787F             2387             mov     R0, #7Fh
                      2388     label364:
0CC5 76FF             2389             mov     @R0, #0FFh
0CC7 B6FF0B           2390             cjne    @R0, #0FFh, label363
0CCA 7600             2391             mov     @R0, #0h
0CCC B60006           2392             cjne    @R0, #0h, label363
0CCF 18               2393             dec     R0
0CD0 B801F2           2394             cjne    R0, #1h, label364
0CD3 8008             2395             sjmp    label365
                      2396
                      2397     label363:
0CD5 787F             2398             mov     R0, #7Fh
                      2399     label366:
0CD7 7600             2400             mov     @R0, #0h
0CD9 D8FC             2401             djnz    R0, label366
0CDB 79FC             2402             mov     R1, #BAT_CHK_FAILED_2PC
                      2403     label365:
0CDD 892C             2404             mov     2Ch, R1
0CDF 752601           2405             mov     26h, #1h
0CE2 71F1             2406             acall   flags_and_vars_init
0CE4 752E43           2407             mov     2Eh, #43h
0CE7 752F43           2408             mov     2Fh, #43h
0CEA D220             2409             setb    20h
                      2410
                      2411     ifdef use_buzzer
0CEC 5390FF           2412             anl     P1, #0FFh ; turn OFF LED and buzzer
                      2413     else
                      2414       anl   P1, #0F8h ; turn OFF LED
                      2415     endif
                      2416
0CEF D28C             2417             setb    TR0
0CF1 D2A9             2418             setb    ET0
                      2419     waitClock_high_P3_5:
0CF3 30B5FD           2420             jnb     T1, $     ; T1 refers to the external input pin P3.5 - Waits for pin P3.5 to go High
0CF6 7801             2421             mov     R0, #1h
0CF8 B107             2422             acall   delayR0x2_5ms   ; 2.5ms delay
0CFA E52C             2423             mov     A, 2Ch
0CFC 120814           2424             lcall   Host_RTS_chk
0CFF 70F2             2425             jnz     waitClock_high_P3_5
0D01 30B5EF           2426             jnb     T1, waitClock_high_P3_5
0D04 020071           2427             ljmp    check_BAT_CompletionOK
                      2428
                      2429     delayR0x2_5ms:
0D07 79FA             2430             mov     R1, #0FAh
                      2431     loopDelay2_5ms:
0D09 00               2432             nop
0D0A 00               2433             nop
0D0B 00               2434             nop
0D0C D9FB             2435             djnz    R1, loopDelay2_5ms
0D0E D8F7             2436             djnz    R0, delayR0x2_5ms
0D10 22               2437             ret
                      2438
                      2439     data0CBF:
0D11 4B               2440             db 4Bh
0D12 50               2441             db 50h
0D13 4D               2442             db 4Dh
0D14 48               2443             db 48h
0D15 53               2444             db 53h
0D16 4F               2445             db 4Fh
0D17 51               2446             db 51h
0D18 52               2447             db 52h
0D19 47               2448             db 47h
0D1A 49               2449             db 49h
0D1B 37               2450             db 37h
0D1C 00               2451             db 00h
0D1D 38               2452             db 38h
0D1E 1D               2453             db 1Dh
0D1F 1C               2454             db 1Ch
0D20 35               2455             db 35h
0D21 1D               2456             db 1Dh
0D22 38               2457             db 38h
0D23 2A               2458             db 2Ah
0D24 36               2459             db 36h
0D25 3A               2460             db 3Ah
0D26 00               2461             db 00h
0D27 00               2462             db 00h
0D28 45               2463             db 45h
0D29 1A               2464             db 1Ah
0D2A 1B               2465             db 1Bh
0D2B 2B               2466             db 2Bh
0D2C 47               2467             db 47h
0D2D 48               2468             db 48h
0D2E 49               2469             db 49h
0D2F 37               2470             db 37h
0D30 4A               2471             db 4Ah
0D31 26               2472             db 26h
0D32 27               2473             db 27h
0D33 28               2474             db 28h
0D34 1C               2475             db 1Ch
0D35 4B               2476             db 4Bh
0D36 4C               2477             db 4Ch
0D37 4D               2478             db 4Dh
0D38 4E               2479             db 4Eh
0D39 1E               2480             db 1Eh
0D3A 1F               2481             db 1Fh
0D3B 20               2482             db 20h
0D3C 21               2483             db 21h
0D3D 22               2484             db 22h
0D3E 23               2485             db 23h
0D3F 24               2486             db 24h
0D40 25               2487             db 25h
0D41 2C               2488             db 2Ch
0D42 2D               2489             db 2Dh
0D43 2E               2490             db 2Eh
0D44 2F               2491             db 2Fh
0D45 30               2492             db 30h
0D46 31               2493             db 31h
0D47 32               2494             db 32h
0D48 33               2495             db 33h
0D49 34               2496             db 34h
0D4A 35               2497             db 35h
0D4B 39               2498             db 39h
0D4C 52               2499             db 52h
0D4D 53               2500             db 53h
0D4E 4F               2501             db 4Fh
0D4F 50               2502             db 50h
0D50 51               2503             db 51h
0D51 01               2504             db 01h
0D52 3B               2505             db 3Bh
0D53 3C               2506             db 3Ch
0D54 3D               2507             db 3Dh
0D55 3E               2508             db 3Eh
0D56 3F               2509             db 3Fh
0D57 40               2510             db 40h
0D58 41               2511             db 41h
0D59 19               2512             db 19h
0D5A 42               2513             db 42h
0D5B 43               2514             db 43h
0D5C 44               2515             db 44h
0D5D 57               2516             db 57h
0D5E 58               2517             db 58h
0D5F 46               2518             db 46h
                      2519
0D60 00               2520             db 00h
0D61 29               2521             db 29h
0D62 02               2522             db 02h
0D63 03               2523             db 03h
0D64 04               2524             db 04h
0D65 05               2525             db 05h
0D66 06               2526             db 06h
0D67 07               2527             db 07h
0D68 08               2528             db 08h
0D69 09               2529             db 09h
0D6A 0A               2530             db 0Ah
0D6B 0B               2531             db 0Bh
0D6C 0C               2532             db 0Ch
0D6D 0D               2533             db 0Dh
0D6E 0E               2534             db 0Eh
0D6F 17               2535             db 17h
0D70 18               2536             db 18h
0D71 0F               2537             db 0Fh
0D72 10               2538             db 10h
0D73 11               2539             db 11h
0D74 12               2540             db 12h
0D75 13               2541             db 13h
0D76 14               2542             db 14h
0D77 15               2543             db 15h
0D78 16               2544             db 16h
0D79 00               2545             db 00h
                      2546
0D7A 2B               2547             db 2Bh
0D7B 56               2548             db 56h
0D7C 73               2549             db 73h
0D7D 7C               2550             db 7Ch
0D7E 7D               2551             db 7Dh
0D7F 78               2552             db 78h
0D80 7E               2553             db 7Eh
                      2554
                      2555     data0D2F:
0D81 6B               2556             db 6Bh
0D82 72               2557             db 72h
0D83 74               2558             db 74h
0D84 75               2559             db 75h
0D85 71               2560             db 71h
0D86 69               2561             db 69h
0D87 7A               2562             db 7Ah
0D88 70               2563             db 70h
0D89 6C               2564             db 6Ch
0D8A 7D               2565             db 7Dh
0D8B 7C               2566             db 7Ch
0D8C 00               2567             db 00h
0D8D 11               2568             db 11h
0D8E 14               2569             db 14h
0D8F 5A               2570             db 5Ah
0D90 4A               2571             db 4Ah
0D91 14               2572             db 14h
0D92 11               2573             db 11h
0D93 12               2574             db 12h
0D94 59               2575             db 59h
0D95 58               2576             db 58h
0D96 00               2577             db 00h
0D97 00               2578             db 00h
0D98 77               2579             db 77h
0D99 54               2580             db 54h
0D9A 5B               2581             db 5Bh
0D9B 5D               2582             db 5Dh
0D9C 6C               2583             db 6Ch
0D9D 75               2584             db 75h
0D9E 7D               2585             db 7Dh
0D9F 7C               2586             db 7Ch
0DA0 7B               2587             db 7Bh
0DA1 4B               2588             db 4Bh
0DA2 4C               2589             db 4Ch
0DA3 52               2590             db 52h
0DA4 5A               2591             db 5Ah
0DA5 6B               2592             db 6Bh
0DA6 73               2593             db 73h
0DA7 74               2594             db 74h
0DA8 79               2595             db 79h
0DA9 1C               2596             db 1Ch
0DAA 1B               2597             db 1Bh
0DAB 23               2598             db 23h
0DAC 2B               2599             db 2Bh
0DAD 34               2600             db 34h
0DAE 33               2601             db 33h
0DAF 3B               2602             db 3Bh
0DB0 42               2603             db 42h
0DB1 1A               2604             db 1Ah
0DB2 22               2605             db 22h
                      2606
                      2607     label0D61:
0DB3 21               2608             db 21h
0DB4 2A               2609             db 2Ah
0DB5 32               2610             db 32h
0DB6 31               2611             db 31h
0DB7 3A               2612             db 3Ah
0DB8 41               2613             db 41h
0DB9 49               2614             db 49h
0DBA 4A               2615             db 4Ah
0DBB 29               2616             db 29h
                      2617
                      2618     label0D6A:
0DBC 70               2619             db 70h
0DBD 71               2620             db 71h
0DBE 69               2621             db 69h
0DBF 72               2622             db 72h
0DC0 7A               2623             db 7ah
0DC1 76               2624             db 76h
0DC2 05               2625             db 05h
0DC3 06               2626             db 06h
0DC4 04               2627             db 04h
0DC5 0C               2628             db 0Ch
0DC6 03               2629             db 03h
0DC7 0B               2630             db 0Bh
0DC8 83               2631             db 83h
0DC9 4D               2632             db 4Dh
0DCA 0A               2633             db 0Ah
0DCB 01               2634             db 01h
0DCC 09               2635             db 09h
0DCD 78               2636             db 78h
0DCE 07               2637             db 07h
0DCF 7E               2638             db 7Eh
0DD0 00               2639             db 00h
0DD1 0E               2640             db 0Eh
0DD2 16               2641             db 16h
0DD3 1E               2642             db 1Eh
0DD4 26               2643             db 26h
0DD5 25               2644             db 25h
0DD6 2E               2645             db 2Eh
0DD7 36               2646             db 36h
0DD8 3D               2647             db 3Dh
0DD9 3E               2648             db 3Eh
0DDA 46               2649             db 46h
0DDB 45               2650             db 45h
0DDC 4E               2651             db 4Eh
0DDD 55               2652             db 55h
0DDE 66               2653             db 66h
0DDF 43               2654             db 43h
0DE0 44               2655             db 44h
0DE1 0D               2656             db 0Dh
0DE2 15               2657             db 15h
0DE3 1D               2658             db 1Dh
0DE4 24               2659             db 24h
0DE5 2D               2660             db 2Dh
0DE6 2C               2661             db 2Ch
0DE7 35               2662             db 35h
0DE8 3C               2663             db 3Ch
0DE9 00               2664             db 00h
0DEA 5D               2665             db 5Dh
0DEB 61               2666             db 61h
0DEC 51               2667             db 51h
0DED 68               2668             db 68h
0DEE 6A               2669             db 6Ah
0DEF 63               2670             db 63h
0DF0 6D               2671             db 6Dh
                      2672
                      2673     data0D9F:
0DF1 E1               2674             db 0E1h
0DF2 E0               2675             db 0E0h
0DF3 EA               2676             db 0EAh
0DF4 E3               2677             db 0E3h
0DF5 E4               2678             db 0E4h
0DF6 65               2679             db 65h
0DF7 6D               2680             db 6Dh
0DF8 67               2681             db 67h
0DF9 6E               2682             db 6Eh
0DFA 6F               2683             db 6Fh
0DFB 57               2684             db 57h
0DFC 00               2685             db 00h
0DFD 39               2686             db 39h
0DFE 58               2687             db 58h
0DFF 79               2688             db 79h
0E00 77               2689             db 77h
0E01 11               2690             db 11h
0E02 19               2691             db 19h
                      2692
0E03 12               2693             db 12h
0E04 5914             2694             dw 5914h
0E06 00               2695             db 00
0E07 00               2696             db 00
0E08 76               2697             db 76h
0E09 D4               2698             db 0D4h
0E0A DB               2699             db 0DBh
0E0B DC               2700             db 0DCh
0E0C 6C               2701             db 6Ch
0E0D 75               2702             db 75h
0E0E 7D               2703             db 7Dh
0E0F 7E               2704             db 7Eh
0E10 84               2705             db 84h
0E11 CB               2706             db 0CBh
0E12 CC               2707             db 0CCh
                      2708     ; 0dc1
0E13 D2               2709             db 0d2h
0E14 DA               2710             db 0dah
0E15 6B73             2711             dw 06b73h
0E17 74FC             2712             dw 074FCh
0E19 9C               2713             db 09ch
0E1A 9B               2714             db 09bh
0E1B A3               2715             db 0a3h
                      2716     ; 0DCA
0E1C AB               2717             db 0ABh
0E1D B4               2718             db 0B4h
0E1E B3               2719             db 0B3h
0E1F BB               2720             db 0BBh
0E20 C2               2721             db 0C2h
0E21 9A               2722             db 9Ah
0E22 A2               2723             db 0A2h
0E23 A1               2724             db 0A1h
0E24 AA               2725             db 0AAh
0E25 B2               2726             db 0B2h
0E26 B1               2727             db 0B1h
0E27 BA               2728             db 0BAh
0E28 C1               2729             db 0C1h
0E29 C9               2730             db 0C9h
0E2A CA               2731             db 0CAh
0E2B A9               2732             db 0A9h
0E2C 70               2733             db 70h
0E2D 71               2734             db 71h
0E2E 69               2735             db 69h
                      2736     ; 0DDD
0E2F 72               2737             db 72h
0E30 7A               2738             db 7Ah
0E31 08               2739             db 08h
0E32 07               2740             db 07h
0E33 0F               2741             db 0fh
0E34 17               2742             db 17h
0E35 1F               2743             db 1fh
0E36 27               2744             db 27h
0E37 2F               2745             db 2fh
0E38 37               2746             db 37h
0E39 CD               2747             db 0CDh
0E3A 3F               2748             db 3Fh
0E3B 47               2749             db 47h
0E3C 4F               2750             db 4Fh
0E3D 56               2751             db 56h
0E3E 5E               2752             db 5Eh
0E3F 5F               2753             db 5Fh
0E40 62               2754             db 62h
0E41 8E               2755             db 8Eh
0E42 96               2756             db 96h
0E43 9E               2757             db 9Eh
0E44 A6               2758             db 0A6h
0E45 A5               2759             db 0A5h
0E46 AE               2760             db 0AEh
0E47 B6               2761             db 0B6h
0E48 BD               2762             db 0BDh
0E49 BE               2763             db 0BEh
0E4A C6               2764             db 0C6h
0E4B C5               2765             db 0C5h
0E4C CE               2766             db 0CEh
0E4D D5               2767             db 0D5h
0E4E E6               2768             db 0E6h
0E4F C3               2769             db 0C3h
0E50 C4               2770             db 0C4h
0E51 8D               2771             db 8Dh
0E52 95               2772             db 95h
0E53 9D               2773             db 9Dh
0E54 A4               2774             db 0A4h
0E55 AD               2775             db 0ADh
0E56 AC               2776             db 0ACh
0E57 B5               2777             db 0B5h
0E58 BC               2778             db 0BCh
0E59 00               2779             db 00h
                      2780
                      2781     ; 0E08
0E5A D3               2782             db 0D3h
0E5B 93               2783             db 93h
0E5C D1               2784             db 0D1h
0E5D 68               2785             db 68h
0E5E DD               2786             db 0DDh
0E5F 78               2787             db 78h
0E60 FB               2788             db 0FBh
                      2789
                      2790     data0E0F:
0E61 E1               2791             db 0E1h
0E62 1D               2792             db 1Dh
0E63 45               2793             db 45h
0E64 E1               2794             db 0E1h
0E65 9D               2795             db 9Dh
0E66 C5               2796             db 0C5h
                      2797
                      2798     data0E15:
0E67 E0               2799             db 0E0h
0E68 46               2800             db 46h
0E69 E0               2801             db 0E0h
0E6A C6               2802             db 0C6h
                      2803
                      2804     data0E19:
0E6B E1               2805             db 0E1h
0E6C 14               2806             db 14h
0E6D 77               2807             db 77h
0E6E E1               2808             db 0E1h
0E6F F0               2809             db 0F0h
0E70 14               2810             db 14h
0E71 F0               2811             db 0F0h
0E72 77               2812             db 77h
                      2813
                      2814     data0E21:
0E73 E0               2815             db 0E0h
0E74 7E               2816             db 7Eh
0E75 E0               2817             db 0E0h
0E76 F0               2818             db 0F0h
0E77 7E               2819             db 7Eh
                      2820
                      2821     data0E26:
0E78 FF               2822             db 0FFh
0E79 FF               2823             db 0FFh
0E7A FF               2824             db 0FFh
0E7B FF               2825             db 0FFh
0E7C FF               2826             db 0FFh
0E7D FF               2827             db 0FFh
0E7E FF               2828             db 0FFh
0E7F 41               2829             db 41h
0E80 40               2830             db 40h
0E81 FF               2831             db 0FFh
0E82 FF               2832             db 0FFh
0E83 FF               2833             db 0FFh
0E84 FF               2834             db 0FFh
0E85 60               2835             db 60h
0E86 50               2836             db 50h
0E87 42               2837             db 42h
0E88 FF               2838             db 0FFh
0E89 10               2839             db 10h
0E8A 12               2840             db 12h
0E8B 6A               2841             db 6Ah
0E8C 14               2842             db 14h
0E8D 61               2843             db 61h
0E8E 51               2844             db 51h
0E8F 43               2845             db 43h
0E90 FF               2846             db 0FFh
0E91 11               2847             db 11h
0E92 30               2848             db 30h
0E93 29               2849             db 29h
0E94 28               2850             db 28h
0E95 62               2851             db 62h
0E96 52               2852             db 52h
0E97 44               2853             db 44h
0E98 FF               2854             db 0FFh
0E99 32               2855             db 32h
                      2856
                      2857     label0E48:
0E9A 31               2858             db 31h
0E9B 2A               2859             db 2Ah
0E9C 63               2860             db 63h
0E9D 54               2861             db 54h
0E9E 53               2862             db 53h
0E9F 45               2863             db 45h
0EA0 FF               2864             db 0FFh
0EA1 3A               2865             db 3Ah
0EA2 33               2866             db 33h
0EA3 2B               2867             db 2Bh
0EA4 65               2868             db 65h
0EA5 64               2869             db 64h
0EA6 55               2870             db 55h
0EA7 46               2871             db 46h
0EA8 FF               2872             db 0FFh
0EA9 35               2873             db 35h
0EAA 34               2874             db 34h
0EAB 2D               2875             db 2Dh
0EAC 2C               2876             db 2Ch
0EAD 66               2877             db 66h
0EAE 56               2878             db 56h
0EAF 47               2879             db 47h
0EB0 FF               2880             db 0FFh
0EB1 0C               2881             db 0Ch
0EB2 36               2882             db 36h
0EB3 2E               2883             db 2Eh
0EB4 67               2884             db 67h
0EB5 57               2885             db 57h
0EB6 58               2886             db 58h
0EB7 49               2887             db 49h
0EB8 FF               2888             db 0FFh
0EB9 37               2889             db 37h
                      2890
                      2891     ; ---------------------------------------------------------------------------------------------------
                      2892
0EBA 2F               2893             db 2Fh
0EBB 5E               2894             db 5Eh
0EBC 5F               2895             db 5Fh
0EBD 5A               2896             db 5Ah
0EBE 59               2897             db 59h
0EBF 4A               2898             db 4Ah
0EC0 FF               2899             db 0FFh
0EC1 38               2900             db 38h
0EC2 39               2901             db 39h
0EC3 20               2902             db 20h
0EC4 21               2903             db 21h
0EC5 48               2904             db 48h
0EC6 5B               2905             db 5Bh
0EC7 4B               2906             db 4Bh
0EC8 FF               2907             db 0FFh
0EC9 6B               2908             db 6Bh
0ECA 22               2909             db 22h
0ECB 69               2910             db 69h
0ECC 18               2911             db 18h
0ECD 5C               2912             db 5Ch
0ECE 4C               2913             db 4Ch
0ECF 0A               2914             db 0Ah
0ED0 0D               2915             db 0Dh
0ED1 13               2916             db 13h
0ED2 23               2917             db 23h
0ED3 19               2918             db 19h
0ED4 1A               2919             db 1Ah
0ED5 6D               2920             db 6Dh
0ED6 4D               2921             db 4Dh
                      2922
                      2923     label401:
0ED7 4E               2924             db 4Eh
0ED8 01               2925             db 01h
0ED9 00               2926             db 00h
0EDA 4F               2927             db 4Fh
0EDB 03               2928             db 03h
0EDC 04               2929             db 04h
0EDD 05               2930             db 05h
0EDE 5D               2931             db 5Dh
0EDF 07               2932             db 07h
0EE0 6C               2933             db 6Ch
0EE1 3D               2934             db 3Dh
0EE2 02               2935             db 02h
0EE3 24               2936             db 24h
0EE4 1B               2937             db 1Bh
                      2938     ; 0E93
0EE5 06               2939             db 06h
0EE6 08               2940             db 08h
0EE7 09               2941             db 09h
0EE8 3B               2942             db 3Bh
0EE9 3C               2943             db 3Ch
0EEA 3E               2944             db 3Eh
0EEB 25               2945             db 25h
0EEC 26               2946             db 26h
0EED 1C               2947             db 1Ch
0EEE 17               2948             db 17h
                      2949     ; ------------------------
0EEF 0F               2950             db 0Fh
0EF0 6E               2951             db 6Eh
                      2952     ; ------------------------
0EF1 0E               2953             db 0Eh
0EF2 3F               2954             db 3Fh
0EF3 6F               2955             db 6Fh
0EF4 27               2956             db 27h
0EF5 1D               2957             db 1Dh
                      2958
0EF6 1E               2959             db 1Eh
0EF7 FF               2960             db 0FFh
0EF8 FF               2961             db 0FFh
0EF9 FF               2962             db 0FFh
0EFA FF               2963             db 0FFh
0EFB FF               2964             db 0FFh
0EFC 1F               2965             db 01Fh
0EFD FF               2966             db 0FFh
0EFE FF               2967             db 0FFh
0EFF FF               2968             db 0FFh
                      2969
                      2970     data0EAE:
0F00 00               2971             db 00h
0F01 01               2972             db 01h
0F02 02               2973             db 02h
0F03 03               2974             db 03h
0F04 04               2975             db 04h
0F05 05               2976             db 05h
0F06 06               2977             db 06h
0F07 07               2978             db 07h
0F08 08               2979             db 08h
0F09 09               2980             db 09h
0F0A 0A               2981             db 0Ah    ; 11
0F0B 14               2982             db 14h    ; 12
0F0C 0C               2983             db 0Ch    ; 13
0F0D 17               2984             db 17h    ; 14
0F0E 0E               2985             db 0eh    ; 15
0F0F 0F               2986             db 0fh    ; 16  - Led 1
0F10 FF               2987             db 0ffh   ; 17  - Led 2
0F11 FF               2988             db 0ffh   ; 18  - Led 3 -> max X rows
0F12 12               2989             db 12h
0F13 13               2990             db 13h
0F14 FF               2991             db 0FFh
0F15 FF               2992             db 0FFh
0F16 FF               2993             db 0FFh
0F17 FF               2994             db 0FFh
0F18 18               2995             db 18h
0F19 19               2996             db 19h
0F1A 1A               2997             db 1Ah
0F1B 1B               2998             db 1bh
0F1C 1C               2999             db 1ch
0F1D 1D               3000             db 1dh
0F1E 1E               3001             db 1eh
0F1F 1F               3002             db 1fh
0F20 20               3003             db 20h
0F21 21               3004             db 21h
0F22 22               3005             db 22h
0F23 23               3006             db 23h
0F24 24               3007             db 24h
0F25 25               3008             db 25h
0F26 26               3009             db 26h
0F27 27               3010             db 27h
0F28 28               3011             db 28h
0F29 29               3012             db 29h
0F2A 2A               3013             db 2ah
0F2B 2B               3014             db 2bh
0F2C 2C               3015             db 2ch
0F2D 2D               3016             db 2dh
0F2E 2E               3017             db 2eh
0F2F 2F               3018             db 2fh
                      3019     ;       30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e
0F30 3031323334       3020             db '0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefg'
     3536373839
     3A3B3C3D3E
     3F40414243
     4445464748
     494A4B4C4D
     4E4F505152
     5354555657
     58595A5B5C
     5D5E5F6061
     6263646566
     67
                      3021
                      3022     ;       -------------------------------
0F68 11               3023       db 11h
0F69 69               3024       db 69h
0F6A 6A               3025       db 6Ah
0F6B 6B               3026       db 6Bh
0F6C 6C               3027       db 6Ch
0F6D 6D               3028       db 6Dh
0F6E 6E               3029       db 6Eh
0F6F 6F               3030       db 6Fh
0F70 10               3031       db 10h
0F71 FF               3032       db 0FFh
0F72 FF               3033       db 0FFh
0F73 FF               3034       db 0FFh
0F74 FF               3035       db 0FFh
0F75 0D               3036       db 0Dh
0F76 FF               3037       db 0FFh
0F77 FF               3038       db 0FFh
                      3039
                      3040     data0F26:
0F78 00FA             3041       dw 00FAh  ;   250 ms delay
0F7A 01F4             3042       dw 01F4h  ;  500 ms delay
0F7C 02EE             3043       dw 02EEh  ;  750 ms delay
0F7E 03E8             3044       dw 03E8h  ; 1000 ms delay
                      3045
                      3046     data0F2E:
0F80 00               3047             db 00h
0F81 21               3048             db 21h
0F82 00               3049             db 00h
0F83 25               3050       db 25h
0F84 00               3051       db 00h
0F85 29               3052       db 29h
0F86 00               3053       db 00h
0F87 2E               3054       db 2Eh
0F88 00               3055       db 00h
0F89 32               3056       db 32h
                      3057
0F8A 00               3058       db 00h
0F8B 36               3059       db 36h
0F8C 00               3060       db 00h
0F8D 3A               3061       db 3Ah
0F8E 00               3062       db 00h
0F8F 3F               3063       db 3Fh
0F90 00               3064       db 00h
0F91 43               3065       db 43h
0F92 00               3066       db 00h
0F93 4B               3067       db 4Bh
0F94 00               3068       db 00h
0F95 53               3069       db 53h
0F96 00               3070       db 00h
0F97 5C               3071       db 5Ch
0F98 00               3072       db 00h
0F99 64               3073       db 64h
0F9A 00               3074       db 00h
0F9B 6D               3075       db 6Dh
0F9C 00               3076       db 00h
0F9D 74               3077       db 74h
0F9E 00               3078       db 00h
0F9F 7D               3079       db 7Dh
0FA0 00               3080       db 00h
0FA1 85               3081       db 85h
0FA2 00               3082       db 00h
0FA3 95               3083       db 95h
0FA4 00               3084       db 00h
0FA5 A7               3085       db 0A7h
0FA6 00               3086       db 00h
                      3087
0FA7 B6               3088       db 0B6h
0FA8 00               3089       db 00h
0FA9 C8               3090       db 0C8h
0FAA 00               3091       db 00h
0FAB DC               3092       db 0DCh
0FAC 00               3093       db 00h
                      3094
                      3095     ; ----------------------
0FAD E9               3096       db 0E9h
0FAE 00               3097       db 00h
0FAF FA               3098       db 0FAh
0FB0 01               3099       db 01h
0FB1 0E               3100       db 0Eh
0FB2 01               3101       db 01h
0FB3 2F               3102       db 2Fh
0FB4 01               3103       db 01h
0FB5 4D               3104       db 4Dh
0FB6 01               3105       db 01h
0FB7 72               3106       db 72h
0FB8 01               3107       db 01h
0FB9 90               3108       db 90h
0FBA 01               3109       db 01h
0FBB B3               3110       db 0B3h
0FBC 01               3111       db 01h
0FBD DC               3112       db 0DCh
0FBE 01               3113       db 01h
0FBF F4               3114       db 0F4h
                      3115
                      3116     ifdef disable_ROMchecksum
                      3117
                      3118     HW_init_return_R1equAA:
0FC0 79AA             3119         mov R1, #0AAh  ; Force BAT Success code
0FC2 22               3120         ret            ; Exit immediately
                      3121
                      3122     else
                      3123     HW_init_return_R1equAA:
                      3124       mov   R1, #0h
                      3125             mov     DPTR, #HW_init_return_R1equAA
                      3126     label428:
                      3127             mov     A, DPL
                      3128             jnz     label425
                      3129             mov     A, DPH
                      3130             jnz     label425
                      3131             mov     A, R1
                      3132             cjne    A, #1Fh, bat_check_failed           ; checksum (#1Fh) do not match
                      3133             mov     R1, #BAT_CHK_PASSED_2PC               ; successful HW init, return 0AAh in R1
                      3134             ret
                      3135
                      3136     bat_check_failed:
                      3137             mov     R1, #BAT_CHK_FAILED_2PC
                      3138             ret
                      3139
                      3140     label425:
                      3141             dec     DPL
                      3142             mov     A, DPL
                      3143             cjne    A, #0FFh, label427
                      3144             dec     DPH
                      3145
                      3146     label427:
                      3147             clr     A
                      3148             movc    A, @A+DPTR      ; load accumulator with DPTR + A pointed data
                      3149             xrl     A, R1
                      3150             mov     R1, A
                      3151             sjmp    label428
                      3152
                      3153     endif
                      3154
                      3155
                      3156     ; --- Startup LED Sequence for N86D-4700 ---
                      3157     startup_led_test:
                      3158
                      3159     ifdef use_buzzer
                      3160         ; LED 1 (P1.0) - Scroll Lock ON - buzzer on
0FC3 7590F1           3161         mov  P1, #0F1h
                      3162     else
                      3163         ; LED 1 (P1.0) - Scroll Lock ON - buzzer off
                      3164         mov  P1, #0F9h
                      3165     endif
0FC6 120FF2           3166         lcall delay_50ms
                      3167
                      3168         ; All LEDs OFF - buzzer off
0FC9 7590F8           3169         mov  P1, #0F8h
0FCC 120FE5           3170         lcall delay_100ms
                      3171
                      3172         ; LED 2 (P1.1) - Num Lock - buzzer off
0FCF 7590FA           3173         mov  P1, #0FAh
0FD2 120FF2           3174         lcall delay_50ms
                      3175
                      3176         ; All LEDs OFF - buzzer off
0FD5 7590F8           3177         mov  P1, #0F8h
0FD8 120FE5           3178         lcall delay_100ms
                      3179
                      3180     ifdef use_buzzer
                      3181         ; LED 3 (P1.2) - Caps Lock - buzzer on
0FDB 7590F4           3182         mov  P1, #0F4h
                      3183     else
                      3184         ; LED 3 (P1.2) - Caps Lock - buzzer off
                      3185         mov  P1, #0FCh
                      3186     endif
0FDE 120FF2           3187         lcall delay_50ms
                      3188
                      3189         ; All LEDs OFF - buzzer off
0FE1 7590F8           3190         mov  P1, #0F8h
                      3191         ; --- End of Sequence
0FE4 22               3192         ret
                      3193
                      3194
                      3195     ; --- Precise 200ms Delay for 6 MHz Clock ---
                      3196     delay_100ms:
0FE5 7F04             3197         mov  R7, #4         ; Outer loop
                      3198     d_loop1:
0FE7 7E64             3199         mov  R6, #100       ; Middle loop
                      3200     d_loop2:
0FE9 7DFA             3201         mov  R5, #250       ; Inner loop
0FEB DDFE             3202         djnz R5, $          ; 4us * 250 = 1ms
0FED DEFA             3203         djnz R6, d_loop2    ; 1ms * 100 = 100ms
0FEF DFF6             3204         djnz R7, d_loop1
0FF1 22               3205         ret
                      3206
                      3207     delay_50ms:
                      3208         ;clr        93h     ; set port P1.3 low - pin AKD - buzzer ON
0FF2 7F01             3209         mov  R7, #1         ; Outer loop
                      3210     d50_loop1:
0FF4 7E64             3211         mov  R6, #100       ; Middle loop
                      3212     d50_loop2:
0FF6 7DFA             3213         mov  R5, #250       ; Inner loop
0FF8 DDFE             3214         djnz R5, $          ; 4us * 250 = 1ms
0FFA DEFA             3215         djnz R6, d50_loop2    ; 1ms * 100 = 100ms
0FFC DFF6             3216         djnz R7, d50_loop1
                      3217         ;setb       93h     ; set port P1.3 high - pin AKD - buzzer OFF
0FFE 22               3218         ret
                      3219
                      3220     switchON_LEDs_and_stop:
0FFF C2AF             3221       clr   EA              ; disable all interrupts
1001 7590F7           3222       mov   P1, #0F7h ; turn ON LEDs
1004 80FE             3223       sjmp $ ; infinite loop
                      3224
                      3225             END
ASSEMBLY COMPLETE, NO ERRORS FOUND, NO WARNINGS


SYMBOL TABLE:
??MCU_8051_IDE . . . . . . . . . . .  N  NUMB  8051H  NOT USED
??VERSION. . . . . . . . . . . . . .  N  NUMB  014AH  NOT USED
ABORT_SENDING. . . . . . . . . . . .  C  ADDR  071EH
AC . . . . . . . . . . . . . . . . .  B  ADDR  00D6H  NOT USED
ACC. . . . . . . . . . . . . . . . .  D  ADDR  00E0H
ACK_GENERIC_2PC. . . . . . . . . . .  N  NUMB  00FAH
ACSR . . . . . . . . . . . . . . . .  D  ADDR  0097H  NOT USED
ADCF . . . . . . . . . . . . . . . .  D  ADDR  00F6H  NOT USED
ADCLK. . . . . . . . . . . . . . . .  D  ADDR  00F2H  NOT USED
ADCON. . . . . . . . . . . . . . . .  D  ADDR  00F3H  NOT USED
ADDH . . . . . . . . . . . . . . . .  D  ADDR  00F5H  NOT USED
ADDL . . . . . . . . . . . . . . . .  D  ADDR  00F4H  NOT USED
AUXR . . . . . . . . . . . . . . . .  D  ADDR  008EH  NOT USED
AUXR1. . . . . . . . . . . . . . . .  D  ADDR  00A2H  NOT USED
B. . . . . . . . . . . . . . . . . .  D  ADDR  00F0H
BASE . . . . . . . . . . . . . . . .  N  NUMB  0000H  NOT USED
BAT_CHK_FAILED_2PC . . . . . . . . .  N  NUMB  00FCH
BAT_CHK_PASSED_2PC . . . . . . . . .  N  NUMB  00AAH
BDRCON . . . . . . . . . . . . . . .  D  ADDR  009BH  NOT USED
BDRCON_1 . . . . . . . . . . . . . .  D  ADDR  009CH  NOT USED
BEGIN_NORMAL_OPERATION . . . . . . .  C  ADDR  0082H
BIT_DATA_READY . . . . . . . . . . .  N  NUMB  0008H
BIT_SAMPLING_LOOP. . . . . . . . . .  C  ADDR  08C2H
BRL. . . . . . . . . . . . . . . . .  D  ADDR  009AH  NOT USED
BYTETOSEND . . . . . . . . . . . . .  N  NUMB  0032H
CCAP0H . . . . . . . . . . . . . . .  D  ADDR  00FAH  NOT USED
CCAP0L . . . . . . . . . . . . . . .  D  ADDR  00EAH  NOT USED
CCAP1H . . . . . . . . . . . . . . .  D  ADDR  00FBH  NOT USED
CCAP1L . . . . . . . . . . . . . . .  D  ADDR  00EBH  NOT USED
CCAP2H . . . . . . . . . . . . . . .  D  ADDR  00FCH  NOT USED
CCAP3H . . . . . . . . . . . . . . .  D  ADDR  00FDH  NOT USED
CCAP4H . . . . . . . . . . . . . . .  D  ADDR  00FEH  NOT USED
CCAPL2H. . . . . . . . . . . . . . .  D  ADDR  00FCH  NOT USED
CCAPL2L. . . . . . . . . . . . . . .  D  ADDR  00ECH  NOT USED
CCAPL3H. . . . . . . . . . . . . . .  D  ADDR  00FDH  NOT USED
CCAPL3L. . . . . . . . . . . . . . .  D  ADDR  00EDH  NOT USED
CCAPL4H. . . . . . . . . . . . . . .  D  ADDR  00FEH  NOT USED
CCAPL4L. . . . . . . . . . . . . . .  D  ADDR  00EEH  NOT USED
CCAPM0 . . . . . . . . . . . . . . .  D  ADDR  00DAH  NOT USED
CCAPM1 . . . . . . . . . . . . . . .  D  ADDR  00DBH  NOT USED
CCAPM2 . . . . . . . . . . . . . . .  D  ADDR  00DCH  NOT USED
CCAPM3 . . . . . . . . . . . . . . .  D  ADDR  00DDH  NOT USED
CCAPM4 . . . . . . . . . . . . . . .  D  ADDR  00DEH  NOT USED
CCF0 . . . . . . . . . . . . . . . .  B  ADDR  00D8H  NOT USED
CCF1 . . . . . . . . . . . . . . . .  B  ADDR  00D9H  NOT USED
CCF2 . . . . . . . . . . . . . . . .  B  ADDR  00DAH  NOT USED
CCF3 . . . . . . . . . . . . . . . .  B  ADDR  00DBH  NOT USED
CCF4 . . . . . . . . . . . . . . . .  B  ADDR  00DCH  NOT USED
CCON . . . . . . . . . . . . . . . .  D  ADDR  00D8H  NOT USED
CFINT. . . . . . . . . . . . . . . .  C  ADDR  0033H  NOT USED
CH . . . . . . . . . . . . . . . . .  D  ADDR  00F9H  NOT USED
CHECKCMD_ID. . . . . . . . . . . . .  C  ADDR  09D9H
CHECK_BAT_COMPLETIONOK . . . . . . .  C  ADDR  0071H
CHECK_INT0_HIGH. . . . . . . . . . .  C  ADDR  082FH
CIRCULAR_BUFFER_MNGR . . . . . . . .  C  ADDR  0258H
CKCON. . . . . . . . . . . . . . . .  D  ADDR  008FH  NOT USED
CKCON0 . . . . . . . . . . . . . . .  D  ADDR  008FH  NOT USED
CKRL . . . . . . . . . . . . . . . .  D  ADDR  0097H  NOT USED
CKSEL. . . . . . . . . . . . . . . .  D  ADDR  0085H  NOT USED
CL . . . . . . . . . . . . . . . . .  D  ADDR  00E9H  NOT USED
CLKREG . . . . . . . . . . . . . . .  D  ADDR  008FH  NOT USED
CMDS_RANGE_CHECK . . . . . . . . . .  C  ADDR  09CFH
CMOD . . . . . . . . . . . . . . . .  D  ADDR  00D9H  NOT USED
CPRL2. . . . . . . . . . . . . . . .  B  ADDR  00C8H  NOT USED
CR . . . . . . . . . . . . . . . . .  B  ADDR  00DEH  NOT USED
CT2. . . . . . . . . . . . . . . . .  B  ADDR  00C9H  NOT USED
CY . . . . . . . . . . . . . . . . .  B  ADDR  00D7H  NOT USED
D50_LOOP1. . . . . . . . . . . . . .  C  ADDR  0FF4H
D50_LOOP2. . . . . . . . . . . . . .  C  ADDR  0FF6H
DATA01 . . . . . . . . . . . . . . .  C  ADDR  0BEDH
DATA02 . . . . . . . . . . . . . . .  C  ADDR  0710H
DATA0CBF . . . . . . . . . . . . . .  C  ADDR  0D11H
DATA0D2F . . . . . . . . . . . . . .  C  ADDR  0D81H
DATA0D9F . . . . . . . . . . . . . .  C  ADDR  0DF1H
DATA0E0F . . . . . . . . . . . . . .  C  ADDR  0E61H
DATA0E15 . . . . . . . . . . . . . .  C  ADDR  0E67H
DATA0E19 . . . . . . . . . . . . . .  C  ADDR  0E6BH
DATA0E21 . . . . . . . . . . . . . .  C  ADDR  0E73H
DATA0E26 . . . . . . . . . . . . . .  C  ADDR  0E78H
DATA0EAE . . . . . . . . . . . . . .  C  ADDR  0F00H
DATA0F26 . . . . . . . . . . . . . .  C  ADDR  0F78H
DATA0F2E . . . . . . . . . . . . . .  C  ADDR  0F80H
DATA_RECEIVED. . . . . . . . . . . .  C  ADDR  09AAH
DEBOUNCING_15_CYCLE_DELAY. . . . . .  C  ADDR  08B8H
DELAYR0X2_5MS. . . . . . . . . . . .  C  ADDR  0D07H
DELAY_100MS. . . . . . . . . . . . .  C  ADDR  0FE5H
DELAY_50MS . . . . . . . . . . . . .  C  ADDR  0FF2H
DISABLE_ROMCHECKSUM. . . . . . . . .  N  NUMB  0001H  NOT USED
DP0H . . . . . . . . . . . . . . . .  D  ADDR  0083H  NOT USED
DP0L . . . . . . . . . . . . . . . .  D  ADDR  0082H  NOT USED
DP1H . . . . . . . . . . . . . . . .  D  ADDR  0085H  NOT USED
DP1L . . . . . . . . . . . . . . . .  D  ADDR  0084H  NOT USED
DPH. . . . . . . . . . . . . . . . .  D  ADDR  0083H  NOT USED
DPL. . . . . . . . . . . . . . . . .  D  ADDR  0082H  NOT USED
D_LOOP1. . . . . . . . . . . . . . .  C  ADDR  0FE7H
D_LOOP2. . . . . . . . . . . . . . .  C  ADDR  0FE9H
EA . . . . . . . . . . . . . . . . .  B  ADDR  00AFH
EC . . . . . . . . . . . . . . . . .  B  ADDR  00AEH  NOT USED
EECON. . . . . . . . . . . . . . . .  D  ADDR  0096H  NOT USED
ENABLEINTS . . . . . . . . . . . . .  C  ADDR  07C4H
ENABLEINTS_LOC . . . . . . . . . . .  C  ADDR  07CFH
ENABLE_TIMER0_INT0 . . . . . . . . .  C  ADDR  0A83H
ERROR_PROT_VIOLATION . . . . . . . .  C  ADDR  0A5DH
ES . . . . . . . . . . . . . . . . .  B  ADDR  00ACH  NOT USED
ET0. . . . . . . . . . . . . . . . .  B  ADDR  00A9H
ET1. . . . . . . . . . . . . . . . .  B  ADDR  00ABH  NOT USED
ET2. . . . . . . . . . . . . . . . .  B  ADDR  00ADH  NOT USED
EX0. . . . . . . . . . . . . . . . .  B  ADDR  00A8H
EX1. . . . . . . . . . . . . . . . .  B  ADDR  00AAH  NOT USED
EXEN2. . . . . . . . . . . . . . . .  B  ADDR  00CBH  NOT USED
EXF2 . . . . . . . . . . . . . . . .  B  ADDR  00CEH  NOT USED
EXIT_CMD_HANDLER . . . . . . . . . .  C  ADDR  0A25H
EXTI0. . . . . . . . . . . . . . . .  C  ADDR  0003H  NOT USED
EXTI1. . . . . . . . . . . . . . . .  C  ADDR  0013H  NOT USED
F0 . . . . . . . . . . . . . . . . .  B  ADDR  00D5H
FE . . . . . . . . . . . . . . . . .  B  ADDR  009FH  NOT USED
FLAGS_AND_VARS_INIT. . . . . . . . .  C  ADDR  0BF1H
HIGH_SECURITY_MEMORY_WIPE. . . . . .  C  ADDR  0CC3H  NOT USED
HOST_RTS_CHK . . . . . . . . . . . .  C  ADDR  0814H
HW_INIT_RETURN_R1EQUAA . . . . . . .  C  ADDR  0FC0H
IE . . . . . . . . . . . . . . . . .  D  ADDR  00A8H  NOT USED
IE0. . . . . . . . . . . . . . . . .  B  ADDR  0089H  NOT USED
IE1. . . . . . . . . . . . . . . . .  B  ADDR  008BH  NOT USED
INITIAL_LED_BLINK. . . . . . . . . .  N  NUMB  0001H  NOT USED
INT0 . . . . . . . . . . . . . . . .  B  ADDR  00B2H
INT0LBL. . . . . . . . . . . . . . .  C  ADDR  089FH
INT0LBL_RETI . . . . . . . . . . . .  C  ADDR  092AH
INT0_DETECTED_HIGH . . . . . . . . .  C  ADDR  083BH
INT1 . . . . . . . . . . . . . . . .  B  ADDR  00B3H
INTERRUPT_AND_HARDWARE_SYNC. . . . .  C  ADDR  0992H
INT_TIMER0 . . . . . . . . . . . . .  C  ADDR  092BH
IP . . . . . . . . . . . . . . . . .  D  ADDR  00B8H  NOT USED
IPH. . . . . . . . . . . . . . . . .  D  ADDR  00B7H  NOT USED
IPH0 . . . . . . . . . . . . . . . .  D  ADDR  00B7H  NOT USED
IPH1 . . . . . . . . . . . . . . . .  D  ADDR  00B3H  NOT USED
IPL0 . . . . . . . . . . . . . . . .  D  ADDR  00B8H  NOT USED
IPL1 . . . . . . . . . . . . . . . .  D  ADDR  00B2H  NOT USED
IT0. . . . . . . . . . . . . . . . .  B  ADDR  0088H  NOT USED
IT1. . . . . . . . . . . . . . . . .  B  ADDR  008AH  NOT USED
JMPTBL9C9. . . . . . . . . . . . . .  C  ADDR  09E6H
KBE. . . . . . . . . . . . . . . . .  D  ADDR  009DH  NOT USED
KBF. . . . . . . . . . . . . . . . .  D  ADDR  009EH  NOT USED
KBLS . . . . . . . . . . . . . . . .  D  ADDR  009CH  NOT USED
LABEL03A3. . . . . . . . . . . . . .  C  ADDR  03A0H
LABEL04AA. . . . . . . . . . . . . .  C  ADDR  04B4H
LABEL0D61. . . . . . . . . . . . . .  C  ADDR  0DB3H  NOT USED
LABEL0D6A. . . . . . . . . . . . . .  C  ADDR  0DBCH  NOT USED
LABEL0E48. . . . . . . . . . . . . .  C  ADDR  0E9AH  NOT USED
LABEL100 . . . . . . . . . . . . . .  C  ADDR  032EH
LABEL101 . . . . . . . . . . . . . .  C  ADDR  06EEH
LABEL102 . . . . . . . . . . . . . .  C  ADDR  0365H
LABEL103 . . . . . . . . . . . . . .  C  ADDR  0552H
LABEL104 . . . . . . . . . . . . . .  C  ADDR  0343H
LABEL105 . . . . . . . . . . . . . .  C  ADDR  035BH
LABEL106 . . . . . . . . . . . . . .  C  ADDR  0461H
LABEL107 . . . . . . . . . . . . . .  C  ADDR  0360H
LABEL108 . . . . . . . . . . . . . .  C  ADDR  0488H
LABEL109 . . . . . . . . . . . . . .  C  ADDR  049AH
LABEL110 . . . . . . . . . . . . . .  C  ADDR  036BH
LABEL111 . . . . . . . . . . . . . .  C  ADDR  049EH
LABEL112 . . . . . . . . . . . . . .  C  ADDR  0628H
LABEL113 . . . . . . . . . . . . . .  C  ADDR  032AH
LABEL114 . . . . . . . . . . . . . .  C  ADDR  0380H
LABEL115 . . . . . . . . . . . . . .  C  ADDR  0453H
LABEL116 . . . . . . . . . . . . . .  C  ADDR  0385H
LABEL117 . . . . . . . . . . . . . .  C  ADDR  0470H
LABEL118 . . . . . . . . . . . . . .  C  ADDR  038AH
LABEL119 . . . . . . . . . . . . . .  C  ADDR  048CH
LABEL120 . . . . . . . . . . . . . .  C  ADDR  03BEH
LABEL121 . . . . . . . . . . . . . .  C  ADDR  03C2H
LABEL122 . . . . . . . . . . . . . .  C  ADDR  03F1H
LABEL123 . . . . . . . . . . . . . .  C  ADDR  042BH
LABEL124 . . . . . . . . . . . . . .  C  ADDR  041FH
LABEL125 . . . . . . . . . . . . . .  C  ADDR  03E1H
LABEL126 . . . . . . . . . . . . . .  C  ADDR  0417H
LABEL127 . . . . . . . . . . . . . .  C  ADDR  0425H
LABEL128 . . . . . . . . . . . . . .  C  ADDR  0431H
LABEL129 . . . . . . . . . . . . . .  C  ADDR  0448H
LABEL130 . . . . . . . . . . . . . .  C  ADDR  03CFH
LABEL131 . . . . . . . . . . . . . .  C  ADDR  03D9H
LABEL132 . . . . . . . . . . . . . .  C  ADDR  064AH
LABEL133 . . . . . . . . . . . . . .  C  ADDR  03D4H
LABEL134 . . . . . . . . . . . . . .  C  ADDR  065DH
LABEL135 . . . . . . . . . . . . . .  C  ADDR  0681H
LABEL136 . . . . . . . . . . . . . .  C  ADDR  03E6H
LABEL137 . . . . . . . . . . . . . .  C  ADDR  03EBH
LABEL138 . . . . . . . . . . . . . .  C  ADDR  040FH
LABEL139 . . . . . . . . . . . . . .  C  ADDR  0405H
LABEL140 . . . . . . . . . . . . . .  C  ADDR  041BH
LABEL141 . . . . . . . . . . . . . .  C  ADDR  0446H
LABEL142 . . . . . . . . . . . . . .  C  ADDR  0439H
LABEL143 . . . . . . . . . . . . . .  C  ADDR  046EH
LABEL144 . . . . . . . . . . . . . .  C  ADDR  046CH
LABEL145 . . . . . . . . . . . . . .  C  ADDR  0468H
LABEL146 . . . . . . . . . . . . . .  C  ADDR  047CH
LABEL147 . . . . . . . . . . . . . .  C  ADDR  04D2H
LABEL148 . . . . . . . . . . . . . .  C  ADDR  04D6H
LABEL149 . . . . . . . . . . . . . .  C  ADDR  04E5H
LABEL150 . . . . . . . . . . . . . .  C  ADDR  04FBH
LABEL151 . . . . . . . . . . . . . .  C  ADDR  04EFH
LABEL152 . . . . . . . . . . . . . .  C  ADDR  04E3H
LABEL153 . . . . . . . . . . . . . .  C  ADDR  04E7H
LABEL154 . . . . . . . . . . . . . .  C  ADDR  04F5H
LABEL155 . . . . . . . . . . . . . .  C  ADDR  0501H
LABEL156 . . . . . . . . . . . . . .  C  ADDR  051DH
LABEL157 . . . . . . . . . . . . . .  C  ADDR  05C0H
LABEL158 . . . . . . . . . . . . . .  C  ADDR  04DFH
LABEL159 . . . . . . . . . . . . . .  C  ADDR  04E1H
LABEL160 . . . . . . . . . . . . . .  C  ADDR  04EBH
LABEL161 . . . . . . . . . . . . . .  C  ADDR  051BH
LABEL162 . . . . . . . . . . . . . .  C  ADDR  0516H
LABEL163 . . . . . . . . . . . . . .  C  ADDR  0519H
LABEL164 . . . . . . . . . . . . . .  C  ADDR  050EH
LABEL165 . . . . . . . . . . . . . .  C  ADDR  053BH
LABEL166 . . . . . . . . . . . . . .  C  ADDR  0543H
LABEL167 . . . . . . . . . . . . . .  C  ADDR  054BH
LABEL168 . . . . . . . . . . . . . .  C  ADDR  0559H
LABEL169 . . . . . . . . . . . . . .  C  ADDR  05B1H
LABEL170 . . . . . . . . . . . . . .  C  ADDR  058BH
LABEL171 . . . . . . . . . . . . . .  C  ADDR  0573H
LABEL172 . . . . . . . . . . . . . .  C  ADDR  056CH
LABEL173 . . . . . . . . . . . . . .  C  ADDR  0582H
LABEL174 . . . . . . . . . . . . . .  C  ADDR  057DH
LABEL175 . . . . . . . . . . . . . .  C  ADDR  0607H
LABEL176 . . . . . . . . . . . . . .  C  ADDR  05A3H
LABEL177 . . . . . . . . . . . . . .  C  ADDR  05A1H
LABEL178 . . . . . . . . . . . . . .  C  ADDR  059DH
LABEL179 . . . . . . . . . . . . . .  C  ADDR  05AEH
LABEL18. . . . . . . . . . . . . . .  C  ADDR  00B9H
LABEL180 . . . . . . . . . . . . . .  C  ADDR  0620H
LABEL181 . . . . . . . . . . . . . .  C  ADDR  05ACH
LABEL182 . . . . . . . . . . . . . .  C  ADDR  05BBH
LABEL183 . . . . . . . . . . . . . .  C  ADDR  05BDH
LABEL184 . . . . . . . . . . . . . .  C  ADDR  05C7H
LABEL185 . . . . . . . . . . . . . .  C  ADDR  05F9H
LABEL186 . . . . . . . . . . . . . .  C  ADDR  05E1H
LABEL187 . . . . . . . . . . . . . .  C  ADDR  05DFH
LABEL188 . . . . . . . . . . . . . .  C  ADDR  05DBH
LABEL189 . . . . . . . . . . . . . .  C  ADDR  0624H
LABEL19. . . . . . . . . . . . . . .  C  ADDR  0099H
LABEL190 . . . . . . . . . . . . . .  C  ADDR  05F6H
LABEL191 . . . . . . . . . . . . . .  C  ADDR  05E6H
LABEL192 . . . . . . . . . . . . . .  C  ADDR  05EFH
LABEL193 . . . . . . . . . . . . . .  C  ADDR  0604H
LABEL194 . . . . . . . . . . . . . .  C  ADDR  060BH
LABEL195 . . . . . . . . . . . . . .  C  ADDR  0636H
LABEL196 . . . . . . . . . . . . . .  C  ADDR  063BH
LABEL197 . . . . . . . . . . . . . .  C  ADDR  066EH
LABEL198 . . . . . . . . . . . . . .  C  ADDR  0644H
LABEL199 . . . . . . . . . . . . . .  C  ADDR  0649H
LABEL20. . . . . . . . . . . . . . .  C  ADDR  0096H
LABEL200 . . . . . . . . . . . . . .  C  ADDR  0657H
LABEL201 . . . . . . . . . . . . . .  C  ADDR  066AH
LABEL202 . . . . . . . . . . . . . .  C  ADDR  0655H
LABEL203 . . . . . . . . . . . . . .  C  ADDR  067BH
LABEL204 . . . . . . . . . . . . . .  C  ADDR  068EH
LABEL205 . . . . . . . . . . . . . .  C  ADDR  0679H
LABEL206 . . . . . . . . . . . . . .  C  ADDR  06A8H
LABEL207 . . . . . . . . . . . . . .  C  ADDR  06AEH
LABEL208 . . . . . . . . . . . . . .  C  ADDR  06E5H
LABEL209 . . . . . . . . . . . . . .  C  ADDR  06CAH
LABEL21. . . . . . . . . . . . . . .  C  ADDR  0114H
LABEL210 . . . . . . . . . . . . . .  C  ADDR  06C0H
LABEL211 . . . . . . . . . . . . . .  C  ADDR  06E2H
LABEL212 . . . . . . . . . . . . . .  C  ADDR  06D3H
LABEL213 . . . . . . . . . . . . . .  C  ADDR  06D9H
LABEL214 . . . . . . . . . . . . . .  C  ADDR  06DFH
LABEL215 . . . . . . . . . . . . . .  C  ADDR  06EBH
LABEL216 . . . . . . . . . . . . . .  C  ADDR  070CH
LABEL217 . . . . . . . . . . . . . .  C  ADDR  0708H
LABEL219 . . . . . . . . . . . . . .  C  ADDR  0757H  NOT USED
LABEL22. . . . . . . . . . . . . . .  C  ADDR  00DFH
LABEL223 . . . . . . . . . . . . . .  C  ADDR  075FH
LABEL224 . . . . . . . . . . . . . .  C  ADDR  0763H
LABEL225 . . . . . . . . . . . . . .  C  ADDR  074DH
LABEL226 . . . . . . . . . . . . . .  C  ADDR  078BH
LABEL227 . . . . . . . . . . . . . .  C  ADDR  078FH
LABEL228 . . . . . . . . . . . . . .  C  ADDR  07E4H
LABEL229 . . . . . . . . . . . . . .  C  ADDR  07D2H
LABEL23. . . . . . . . . . . . . . .  C  ADDR  0279H
LABEL231 . . . . . . . . . . . . . .  C  ADDR  07E0H
LABEL232 . . . . . . . . . . . . . .  C  ADDR  07E2H
LABEL233 . . . . . . . . . . . . . .  C  ADDR  07F3H
LABEL234 . . . . . . . . . . . . . .  C  ADDR  07FAH
LABEL235 . . . . . . . . . . . . . .  C  ADDR  0801H
LABEL236 . . . . . . . . . . . . . .  C  ADDR  080AH
LABEL237 . . . . . . . . . . . . . .  C  ADDR  07E7H
LABEL238 . . . . . . . . . . . . . .  C  ADDR  0808H
LABEL239 . . . . . . . . . . . . . .  C  ADDR  07EAH
LABEL24. . . . . . . . . . . . . . .  C  ADDR  00A9H
LABEL240 . . . . . . . . . . . . . .  C  ADDR  07EDH
LABEL241 . . . . . . . . . . . . . .  C  ADDR  07BEH
LABEL242 . . . . . . . . . . . . . .  C  ADDR  088EH
LABEL243 . . . . . . . . . . . . . .  C  ADDR  0820H
LABEL247 . . . . . . . . . . . . . .  C  ADDR  0851H
LABEL248 . . . . . . . . . . . . . .  C  ADDR  0855H
LABEL249 . . . . . . . . . . . . . .  C  ADDR  0846H
LABEL25. . . . . . . . . . . . . . .  C  ADDR  0C77H
LABEL250 . . . . . . . . . . . . . .  C  ADDR  0870H
LABEL251 . . . . . . . . . . . . . .  C  ADDR  0874H
LABEL255 . . . . . . . . . . . . . .  C  ADDR  08AFH
LABEL256 . . . . . . . . . . . . . .  C  ADDR  0926H
LABEL258 . . . . . . . . . . . . . .  C  ADDR  08D0H
LABEL259 . . . . . . . . . . . . . .  C  ADDR  08D3H
LABEL260 . . . . . . . . . . . . . .  C  ADDR  08E9H
LABEL261 . . . . . . . . . . . . . .  C  ADDR  08ECH
LABEL262 . . . . . . . . . . . . . .  C  ADDR  08FEH
LABEL263 . . . . . . . . . . . . . .  C  ADDR  0900H
LABEL264 . . . . . . . . . . . . . .  C  ADDR  0955H
LABEL265 . . . . . . . . . . . . . .  C  ADDR  0953H
LABEL266 . . . . . . . . . . . . . .  C  ADDR  0951H
LABEL267 . . . . . . . . . . . . . .  C  ADDR  0944H
LABEL269 . . . . . . . . . . . . . .  C  ADDR  095EH
LABEL27. . . . . . . . . . . . . . .  C  ADDR  023FH
LABEL270 . . . . . . . . . . . . . .  C  ADDR  0967H
LABEL271 . . . . . . . . . . . . . .  C  ADDR  095BH
LABEL273 . . . . . . . . . . . . . .  C  ADDR  0979H
LABEL276 . . . . . . . . . . . . . .  C  ADDR  09A9H
LABEL28. . . . . . . . . . . . . . .  C  ADDR  01FAH
LABEL285 . . . . . . . . . . . . . .  C  ADDR  0A60H
LABEL287 . . . . . . . . . . . . . .  C  ADDR  0A90H
LABEL288 . . . . . . . . . . . . . .  C  ADDR  0A96H
LABEL289 . . . . . . . . . . . . . .  C  ADDR  0A9CH
LABEL29. . . . . . . . . . . . . . .  C  ADDR  020EH
LABEL290 . . . . . . . . . . . . . .  C  ADDR  0AD5H
LABEL291 . . . . . . . . . . . . . .  C  ADDR  0AEAH
LABEL292 . . . . . . . . . . . . . .  C  ADDR  0AEEH
LABEL293 . . . . . . . . . . . . . .  C  ADDR  0AF2H
LABEL294 . . . . . . . . . . . . . .  C  ADDR  0AF6H
LABEL295 . . . . . . . . . . . . . .  C  ADDR  0B01H
LABEL296 . . . . . . . . . . . . . .  C  ADDR  0B0EH
LABEL297 . . . . . . . . . . . . . .  C  ADDR  0B19H
LABEL298 . . . . . . . . . . . . . .  C  ADDR  0B4AH
LABEL299 . . . . . . . . . . . . . .  C  ADDR  0B6DH
LABEL30. . . . . . . . . . . . . . .  C  ADDR  00DDH
LABEL300 . . . . . . . . . . . . . .  C  ADDR  0B91H
LABEL301 . . . . . . . . . . . . . .  C  ADDR  0B99H
LABEL303 . . . . . . . . . . . . . .  C  ADDR  0A3BH
LABEL305 . . . . . . . . . . . . . .  C  ADDR  0B22H
LABEL306 . . . . . . . . . . . . . .  C  ADDR  0A44H
LABEL307 . . . . . . . . . . . . . .  C  ADDR  0BA2H
LABEL308 . . . . . . . . . . . . . .  C  ADDR  0A4DH
LABEL309 . . . . . . . . . . . . . .  C  ADDR  0B77H
LABEL31. . . . . . . . . . . . . . .  C  ADDR  012AH
LABEL310 . . . . . . . . . . . . . .  C  ADDR  0A55H
LABEL312 . . . . . . . . . . . . . .  C  ADDR  0A5AH
LABEL313 . . . . . . . . . . . . . .  C  ADDR  0A58H
LABEL315 . . . . . . . . . . . . . .  C  ADDR  0A89H
LABEL317 . . . . . . . . . . . . . .  C  ADDR  0A76H
LABEL318 . . . . . . . . . . . . . .  C  ADDR  0A6EH
LABEL319 . . . . . . . . . . . . . .  C  ADDR  0A78H
LABEL32. . . . . . . . . . . . . . .  C  ADDR  00D7H
LABEL320 . . . . . . . . . . . . . .  C  ADDR  0C80H
LABEL321 . . . . . . . . . . . . . .  C  ADDR  0BB8H
LABEL322 . . . . . . . . . . . . . .  C  ADDR  0AA0H
LABEL323 . . . . . . . . . . . . . .  C  ADDR  0AD2H
LABEL324 . . . . . . . . . . . . . .  C  ADDR  0C08H
LABEL326 . . . . . . . . . . . . . .  C  ADDR  0ACEH
LABEL327 . . . . . . . . . . . . . .  C  ADDR  0ACCH
LABEL328 . . . . . . . . . . . . . .  C  ADDR  0AC9H
LABEL33. . . . . . . . . . . . . . .  C  ADDR  0246H
LABEL330 . . . . . . . . . . . . . .  C  ADDR  0ADEH
LABEL331 . . . . . . . . . . . . . .  C  ADDR  0AD7H
LABEL336 . . . . . . . . . . . . . .  C  ADDR  0B5FH
LABEL337 . . . . . . . . . . . . . .  C  ADDR  0B8EH
LABEL338 . . . . . . . . . . . . . .  C  ADDR  0B8CH
LABEL339 . . . . . . . . . . . . . .  C  ADDR  0BB3H
LABEL33_RET. . . . . . . . . . . . .  C  ADDR  0257H
LABEL34. . . . . . . . . . . . . . .  C  ADDR  0201H
LABEL340 . . . . . . . . . . . . . .  C  ADDR  0BC0H
LABEL341 . . . . . . . . . . . . . .  C  ADDR  0BC6H
LABEL342 . . . . . . . . . . . . . .  C  ADDR  0B51H
LABEL343 . . . . . . . . . . . . . .  C  ADDR  0BCCH
LABEL344 . . . . . . . . . . . . . .  C  ADDR  0BD2H
LABEL345 . . . . . . . . . . . . . .  C  ADDR  0B7EH
LABEL346 . . . . . . . . . . . . . .  C  ADDR  0BD9H
LABEL349 . . . . . . . . . . . . . .  C  ADDR  0C0CH
LABEL35. . . . . . . . . . . . . . .  C  ADDR  0207H
LABEL350 . . . . . . . . . . . . . .  C  ADDR  0C13H
LABEL351 . . . . . . . . . . . . . .  C  ADDR  0C28H
LABEL353 . . . . . . . . . . . . . .  C  ADDR  0C44H
LABEL354 . . . . . . . . . . . . . .  C  ADDR  0C3FH
LABEL355 . . . . . . . . . . . . . .  C  ADDR  0C4DH
LABEL356 . . . . . . . . . . . . . .  C  ADDR  0C54H
LABEL357 . . . . . . . . . . . . . .  C  ADDR  0C4FH
LABEL358 . . . . . . . . . . . . . .  C  ADDR  0CA1H
LABEL359 . . . . . . . . . . . . . .  C  ADDR  0C91H
LABEL36. . . . . . . . . . . . . . .  C  ADDR  028BH
LABEL360 . . . . . . . . . . . . . .  C  ADDR  0CA9H
LABEL361 . . . . . . . . . . . . . .  C  ADDR  0CA3H
LABEL362 . . . . . . . . . . . . . .  C  ADDR  003EH
LABEL363 . . . . . . . . . . . . . .  C  ADDR  0CD5H
LABEL364 . . . . . . . . . . . . . .  C  ADDR  0CC5H
LABEL365 . . . . . . . . . . . . . .  C  ADDR  0CDDH
LABEL366 . . . . . . . . . . . . . .  C  ADDR  0CD7H
LABEL37. . . . . . . . . . . . . . .  C  ADDR  02E7H
LABEL37_JMP1 . . . . . . . . . . . .  C  ADDR  02EEH
LABEL37_JMP2 . . . . . . . . . . . .  C  ADDR  02FAH
LABEL37_JMP3 . . . . . . . . . . . .  C  ADDR  0308H
LABEL37_RET. . . . . . . . . . . . .  C  ADDR  0335H
LABEL38. . . . . . . . . . . . . . .  C  ADDR  00EAH
LABEL382 . . . . . . . . . . . . . .  C  ADDR  0A7EH  NOT USED
LABEL385 . . . . . . . . . . . . . .  C  ADDR  0B96H  NOT USED
LABEL39. . . . . . . . . . . . . . .  C  ADDR  008CH
LABEL392 . . . . . . . . . . . . . .  C  ADDR  0BB1H  NOT USED
LABEL40. . . . . . . . . . . . . . .  C  ADDR  00FDH
LABEL401 . . . . . . . . . . . . . .  C  ADDR  0ED7H  NOT USED
LABEL414 . . . . . . . . . . . . . .  C  ADDR  087AH  NOT USED
LABEL42. . . . . . . . . . . . . . .  C  ADDR  0107H
LABEL424 . . . . . . . . . . . . . .  C  ADDR  08EBH  NOT USED
LABEL43. . . . . . . . . . . . . . .  C  ADDR  01DAH
LABEL44. . . . . . . . . . . . . . .  C  ADDR  010FH
LABEL45. . . . . . . . . . . . . . .  C  ADDR  0112H
LABEL46. . . . . . . . . . . . . . .  C  ADDR  0121H
LABEL47. . . . . . . . . . . . . . .  C  ADDR  0126H
LABEL48. . . . . . . . . . . . . . .  C  ADDR  018AH
LABEL49. . . . . . . . . . . . . . .  C  ADDR  0138H
LABEL5 . . . . . . . . . . . . . . .  C  ADDR  0034H
LABEL50. . . . . . . . . . . . . . .  C  ADDR  01A3H
LABEL51. . . . . . . . . . . . . . .  C  ADDR  0181H
LABEL52. . . . . . . . . . . . . . .  C  ADDR  0193H
LABEL53. . . . . . . . . . . . . . .  C  ADDR  012DH
LABEL54. . . . . . . . . . . . . . .  C  ADDR  014FH
LABEL55. . . . . . . . . . . . . . .  C  ADDR  0195H
LABEL55_RET. . . . . . . . . . . . .  C  ADDR  01A1H
LABEL56. . . . . . . . . . . . . . .  C  ADDR  0185H
LABEL57. . . . . . . . . . . . . . .  C  ADDR  00CDH
LABEL58. . . . . . . . . . . . . . .  C  ADDR  0164H
LABEL59. . . . . . . . . . . . . . .  C  ADDR  0160H
LABEL6 . . . . . . . . . . . . . . .  C  ADDR  0024H
LABEL60. . . . . . . . . . . . . . .  C  ADDR  0171H
LABEL61. . . . . . . . . . . . . . .  C  ADDR  014AH
LABEL62. . . . . . . . . . . . . . .  C  ADDR  018CH
LABEL64. . . . . . . . . . . . . . .  C  ADDR  01B9H
LABEL65. . . . . . . . . . . . . . .  C  ADDR  01A6H
LABEL66. . . . . . . . . . . . . . .  C  ADDR  012FH
LABEL68. . . . . . . . . . . . . . .  C  ADDR  0217H
LABEL69. . . . . . . . . . . . . . .  C  ADDR  0216H
LABEL70. . . . . . . . . . . . . . .  C  ADDR  0237H
LABEL71. . . . . . . . . . . . . . .  C  ADDR  02C8H
LABEL72. . . . . . . . . . . . . . .  C  ADDR  0235H
LABEL73. . . . . . . . . . . . . . .  C  ADDR  023CH
LABEL75. . . . . . . . . . . . . . .  C  ADDR  0274H
LABEL76. . . . . . . . . . . . . . .  C  ADDR  02AAH
LABEL78. . . . . . . . . . . . . . .  C  ADDR  02AEH
LABEL78_RET. . . . . . . . . . . . .  C  ADDR  02C7H
LABEL79. . . . . . . . . . . . . . .  C  ADDR  02A6H
LABEL8 . . . . . . . . . . . . . . .  C  ADDR  0036H
LABEL80. . . . . . . . . . . . . . .  C  ADDR  0BDCH
LABEL81. . . . . . . . . . . . . . .  C  ADDR  02E6H
LABEL82. . . . . . . . . . . . . . .  C  ADDR  02DEH
LABEL84. . . . . . . . . . . . . . .  C  ADDR  02E4H
LABEL86. . . . . . . . . . . . . . .  C  ADDR  031CH
LABEL87. . . . . . . . . . . . . . .  C  ADDR  0718H
LABEL89. . . . . . . . . . . . . . .  C  ADDR  0692H
LABEL92. . . . . . . . . . . . . . .  C  ADDR  0310H
LABEL93. . . . . . . . . . . . . . .  C  ADDR  0375H
LABEL94. . . . . . . . . . . . . . .  C  ADDR  0336H
LABEL95. . . . . . . . . . . . . . .  C  ADDR  052CH
LABEL96. . . . . . . . . . . . . . .  C  ADDR  0330H
LABEL97. . . . . . . . . . . . . . .  C  ADDR  0345H
LABEL98. . . . . . . . . . . . . . .  C  ADDR  05FDH
LABEL99. . . . . . . . . . . . . . .  C  ADDR  061AH
LABEL9_LOOP. . . . . . . . . . . . .  C  ADDR  0BF3H
LOOPDELAY2_5MS . . . . . . . . . . .  C  ADDR  0D09H
MAIN_LOOP. . . . . . . . . . . . . .  C  ADDR  003CH
NEXT_CHECK01 . . . . . . . . . . . .  C  ADDR  09C3H
NEXT_CHECK02 . . . . . . . . . . . .  C  ADDR  09C9H
NO_DATA_RECEIVED . . . . . . . . . .  C  ADDR  0062H
NO_MORE_DATA . . . . . . . . . . . .  C  ADDR  0A31H
OSCCON . . . . . . . . . . . . . . .  D  ADDR  0086H  NOT USED
OV . . . . . . . . . . . . . . . . .  B  ADDR  00D2H  NOT USED
P. . . . . . . . . . . . . . . . . .  B  ADDR  00D0H
P0 . . . . . . . . . . . . . . . . .  D  ADDR  0080H
P1 . . . . . . . . . . . . . . . . .  D  ADDR  0090H
P1M1 . . . . . . . . . . . . . . . .  D  ADDR  00D4H  NOT USED
P1M2 . . . . . . . . . . . . . . . .  D  ADDR  00E2H  NOT USED
P2 . . . . . . . . . . . . . . . . .  D  ADDR  00A0H
P3 . . . . . . . . . . . . . . . . .  D  ADDR  00B0H  NOT USED
P3M1 . . . . . . . . . . . . . . . .  D  ADDR  00D5H  NOT USED
P3M2 . . . . . . . . . . . . . . . .  D  ADDR  00E3H  NOT USED
P4 . . . . . . . . . . . . . . . . .  D  ADDR  00C0H  NOT USED
P4M1 . . . . . . . . . . . . . . . .  D  ADDR  00D6H  NOT USED
P4M2 . . . . . . . . . . . . . . . .  D  ADDR  00E4H  NOT USED
P5 . . . . . . . . . . . . . . . . .  D  ADDR  00E8H  NOT USED
PARSE_RECEIVED . . . . . . . . . . .  C  ADDR  09BCH
PC . . . . . . . . . . . . . . . . .  B  ADDR  00BEH  NOT USED
PCON . . . . . . . . . . . . . . . .  D  ADDR  0087H  NOT USED
PPCL . . . . . . . . . . . . . . . .  B  ADDR  00BEH  NOT USED
PS . . . . . . . . . . . . . . . . .  B  ADDR  00BCH  NOT USED
PS2_CLOCK_EDGE_COUNT . . . . . . . .  C  ADDR  0C11H
PSL. . . . . . . . . . . . . . . . .  B  ADDR  00BCH  NOT USED
PSW. . . . . . . . . . . . . . . . .  D  ADDR  00D0H
PT0. . . . . . . . . . . . . . . . .  B  ADDR  00B9H  NOT USED
PT0L . . . . . . . . . . . . . . . .  B  ADDR  00B9H  NOT USED
PT1. . . . . . . . . . . . . . . . .  B  ADDR  00BBH  NOT USED
PT1L . . . . . . . . . . . . . . . .  B  ADDR  00BBH  NOT USED
PT2. . . . . . . . . . . . . . . . .  B  ADDR  00BDH  NOT USED
PT2L . . . . . . . . . . . . . . . .  B  ADDR  00BDH  NOT USED
PX0. . . . . . . . . . . . . . . . .  B  ADDR  00B8H  NOT USED
PX0L . . . . . . . . . . . . . . . .  B  ADDR  00B8H  NOT USED
PX1. . . . . . . . . . . . . . . . .  B  ADDR  00BAH  NOT USED
PX1L . . . . . . . . . . . . . . . .  B  ADDR  00BAH  NOT USED
RAMCMDIDX. . . . . . . . . . . . . .  C  ADDR  00B3H
RB8. . . . . . . . . . . . . . . . .  B  ADDR  009AH  NOT USED
RCAP2H . . . . . . . . . . . . . . .  D  ADDR  00CBH  NOT USED
RCAP2L . . . . . . . . . . . . . . .  D  ADDR  00CAH  NOT USED
RCLK . . . . . . . . . . . . . . . .  B  ADDR  00CDH  NOT USED
RD . . . . . . . . . . . . . . . . .  B  ADDR  00B7H  NOT USED
RECOK_SENDACK. . . . . . . . . . . .  C  ADDR  0AACH
REENABLEET0_TR0. . . . . . . . . . .  C  ADDR  0898H
RELOAD_DEFAULTS. . . . . . . . . . .  C  ADDR  0CAEH
REN. . . . . . . . . . . . . . . . .  B  ADDR  009CH  NOT USED
RESEND_DATA. . . . . . . . . . . . .  C  ADDR  0A8CH
RESET. . . . . . . . . . . . . . . .  C  ADDR  0000H  NOT USED
RETRY_DATA_RECEPTION . . . . . . . .  C  ADDR  0058H
RI . . . . . . . . . . . . . . . . .  B  ADDR  0098H  NOT USED
RS0. . . . . . . . . . . . . . . . .  B  ADDR  00D3H
RS1. . . . . . . . . . . . . . . . .  B  ADDR  00D4H  NOT USED
RXD. . . . . . . . . . . . . . . . .  B  ADDR  00B0H
SADDR. . . . . . . . . . . . . . . .  D  ADDR  00A9H  NOT USED
SADDR_0. . . . . . . . . . . . . . .  D  ADDR  00A9H  NOT USED
SADDR_1. . . . . . . . . . . . . . .  D  ADDR  00AAH  NOT USED
SADEN. . . . . . . . . . . . . . . .  D  ADDR  00B9H  NOT USED
SADEN_0. . . . . . . . . . . . . . .  D  ADDR  00B9H  NOT USED
SADEN_1. . . . . . . . . . . . . . .  D  ADDR  00BAH  NOT USED
SBUF . . . . . . . . . . . . . . . .  D  ADDR  0099H  NOT USED
SCANNING_ROUTINE . . . . . . . . . .  C  ADDR  01C5H
SCON . . . . . . . . . . . . . . . .  D  ADDR  0098H  NOT USED
SEND0FAH__GENERICACK . . . . . . . .  C  ADDR  096BH
SEND0FEH_DATA. . . . . . . . . . . .  C  ADDR  0BB6H
SENDACCUMULATOR. . . . . . . . . . .  C  ADDR  096DH
SENDADATA. . . . . . . . . . . . . .  C  ADDR  0721H
SEND_0FAH_NOK1 . . . . . . . . . . .  C  ADDR  0AE7H
SEND_0FAH_NOK2 . . . . . . . . . . .  C  ADDR  0AFEH
SEND_0FAH_NOK3 . . . . . . . . . . .  C  ADDR  0B0BH
SEND_0FAH_NOK4 . . . . . . . . . . .  C  ADDR  0B16H
SEND_0FAH_NOK5 . . . . . . . . . . .  C  ADDR  0B47H
SEND_ACKNOWLEDGE_RET . . . . . . . .  C  ADDR  097BH
SETACC_VAL_TO_2. . . . . . . . . . .  C  ADDR  02DBH
SET_TYPEMATIC_RATE_DELAY . . . . . .  C  ADDR  0A32H
SINT . . . . . . . . . . . . . . . .  C  ADDR  0023H  NOT USED
SKIP_CHECKCMD_ID . . . . . . . . . .  C  ADDR  09D6H
SKIP_PARSE_RECEIVED. . . . . . . . .  C  ADDR  09B9H
SM0. . . . . . . . . . . . . . . . .  B  ADDR  009FH  NOT USED
SM1. . . . . . . . . . . . . . . . .  B  ADDR  009EH  NOT USED
SM2. . . . . . . . . . . . . . . . .  B  ADDR  009DH  NOT USED
SP . . . . . . . . . . . . . . . . .  D  ADDR  0081H
SPCON. . . . . . . . . . . . . . . .  D  ADDR  00C3H  NOT USED
SPCR . . . . . . . . . . . . . . . .  D  ADDR  00D5H  NOT USED
SPDAT. . . . . . . . . . . . . . . .  D  ADDR  00C5H  NOT USED
SPDR . . . . . . . . . . . . . . . .  D  ADDR  0086H  NOT USED
SPSR . . . . . . . . . . . . . . . .  D  ADDR  00AAH  NOT USED
SPSTA. . . . . . . . . . . . . . . .  D  ADDR  00C4H  NOT USED
STACK_POINTER_POS. . . . . . . . . .  N  NUMB  007FH
START. . . . . . . . . . . . . . . .  C  ADDR  000EH
STARTUP_LED_TEST . . . . . . . . . .  C  ADDR  0FC3H
SUPPORTED_CMD. . . . . . . . . . . .  C  ADDR  0ABAH
SWITCHON_LEDS_AND_STOP . . . . . . .  C  ADDR  0FFFH  NOT USED
T0 . . . . . . . . . . . . . . . . .  B  ADDR  00B4H
T1 . . . . . . . . . . . . . . . . .  B  ADDR  00B5H
T2CON. . . . . . . . . . . . . . . .  D  ADDR  00C8H  NOT USED
T2MOD. . . . . . . . . . . . . . . .  D  ADDR  00C9H  NOT USED
TB8. . . . . . . . . . . . . . . . .  B  ADDR  009BH  NOT USED
TCLK . . . . . . . . . . . . . . . .  B  ADDR  00CCH  NOT USED
TCON . . . . . . . . . . . . . . . .  D  ADDR  0088H  NOT USED
TF0. . . . . . . . . . . . . . . . .  B  ADDR  008DH  NOT USED
TF1. . . . . . . . . . . . . . . . .  B  ADDR  008FH  NOT USED
TF2. . . . . . . . . . . . . . . . .  B  ADDR  00CFH  NOT USED
TH0. . . . . . . . . . . . . . . . .  D  ADDR  008CH
TH1. . . . . . . . . . . . . . . . .  D  ADDR  008DH  NOT USED
TH2. . . . . . . . . . . . . . . . .  D  ADDR  00CDH  NOT USED
TI . . . . . . . . . . . . . . . . .  B  ADDR  0099H  NOT USED
TIMER0 . . . . . . . . . . . . . . .  C  ADDR  000BH  NOT USED
TIMER1 . . . . . . . . . . . . . . .  C  ADDR  001BH  NOT USED
TIMER2 . . . . . . . . . . . . . . .  C  ADDR  002BH  NOT USED
TL0. . . . . . . . . . . . . . . . .  D  ADDR  008AH
TL1. . . . . . . . . . . . . . . . .  D  ADDR  008BH  NOT USED
TL2. . . . . . . . . . . . . . . . .  D  ADDR  00CCH  NOT USED
TMOD . . . . . . . . . . . . . . . .  D  ADDR  0089H  NOT USED
TR0. . . . . . . . . . . . . . . . .  B  ADDR  008CH
TR1. . . . . . . . . . . . . . . . .  B  ADDR  008EH  NOT USED
TR2. . . . . . . . . . . . . . . . .  B  ADDR  00CAH  NOT USED
TXD. . . . . . . . . . . . . . . . .  B  ADDR  00B1H  NOT USED
UNSUPPORTED_CMD. . . . . . . . . . .  C  ADDR  0A1FH
USE_BUZZER . . . . . . . . . . . . .  N  NUMB  0001H  NOT USED
VAR_BUFFER_54. . . . . . . . . . . .  N  NUMB  0054H
VAR_BUFFER_55. . . . . . . . . . . .  N  NUMB  0055H
WAITCLOCK_HIGH_P3_5. . . . . . . . .  C  ADDR  0CF3H
WAITDATA . . . . . . . . . . . . . .  C  ADDR  08A5H
WAITRAM08H_TOHIGH. . . . . . . . . .  C  ADDR  0077H
WAIT_SYNC_PATTERN. . . . . . . . . .  C  ADDR  097CH
WDTCON . . . . . . . . . . . . . . .  D  ADDR  00A7H  NOT USED
WDTPRG . . . . . . . . . . . . . . .  D  ADDR  00A7H  NOT USED
WDTRST . . . . . . . . . . . . . . .  D  ADDR  00A6H  NOT USED
WR . . . . . . . . . . . . . . . . .  B  ADDR  00B6H  NOT USED